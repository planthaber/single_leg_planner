<pre class="code">
<span class="srcline"><span class="lineno"><a href="122,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%sherpaTTFKVel.m</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%author: wreid</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%date: 20150122</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T8U3">uDot</span> = sherpaTTFKVel(<span class="var type1" id="S3T45U6">qDot</span>,<span class="var type1" id="S4T45U7">q</span>,<span class="var type1" id="S5T3U8">kC</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="122,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%sherpaTTFKVel Sherpa_TT single leg forward velocity kinematics.</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,8" id="srcline8"> 8</a></span><span class="line">    <span class="mxinfo " id="T2:U5"><span class="var type1" id="S6T2U11">alpha</span> = <span class="mxinfo " id="T2:U7"><span class="var type1" id="S4T45U13">q</span>(<span class="mxinfo " id="T2:U9">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo " id="T2:U10"><span class="var type1" id="S7T2U17">beta</span> = <span class="mxinfo " id="T2:U12"><span class="var type1" id="S4T45U19">q</span>(<span class="mxinfo " id="T2:U14">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T2:U15"><span class="var type1" id="S8T2U23">gamma</span> = <span class="mxinfo " id="T2:U17"><span class="var type1" id="S4T45U25">q</span>(<span class="mxinfo " id="T2:U19">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,11" id="srcline11">11</a></span><span class="line">    <span class="mxinfo " id="T2:U20"><span class="var type1" id="S9T2U29">phi</span> = <span class="mxinfo " id="T2:U22">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,12" id="srcline12">12</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="122,13" id="srcline13">13</a></span><span class="line">    <span class="mxinfo " id="T2:U23"><span class="var type1" id="S10T2U33">alphaDot</span> = <span class="mxinfo " id="T2:U25"><span class="var type1" id="S3T45U35">qDot</span>(<span class="mxinfo " id="T2:U27">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo " id="T2:U28"><span class="var type1" id="S11T2U39">betaDot</span> = <span class="mxinfo " id="T2:U30"><span class="var type1" id="S3T45U41">qDot</span>(<span class="mxinfo " id="T2:U32">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo " id="T2:U33"><span class="var type1" id="S12T2U45">gammaDot</span> = <span class="mxinfo " id="T2:U35"><span class="var type1" id="S3T45U47">qDot</span>(<span class="mxinfo " id="T2:U37">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,16" id="srcline16">16</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,17" id="srcline17">17</a></span><span class="line">    <span class="mxinfo " id="T2:U38"><span class="var type1" id="S13T2U51">xDot</span> =      <span class="mxinfo " id="T2:U40"><span class="mxinfo " id="T2:U41"><span class="mxinfo " id="T2:U42"><span class="mxinfo " id="T2:U43"><span class="mxinfo " id="T2:U44">- <span class="var type1" id="S10T2U57">alphaDot</span></span>*<span class="mxinfo " id="T2:U46">sin(<span class="var type1" id="S6T2U60">alpha</span>)</span></span>*(<span class="mxinfo " id="T2:U48"><span class="mxinfo " id="T2:U49"><span class="mxinfo " id="T2:U50"><span class="mxinfo " id="T2:U51"><span class="mxinfo " id="T2:U52"><span class="var type1" id="S5T3U67">kC</span>.l2</span> - <span class="mxinfo " id="T2:U54"><span class="var type1" id="S5T3U70">kC</span>.l7</span></span> + <span class="mxinfo " id="T2:U56"><span class="mxinfo " id="T2:U57"><span class="var type1" id="S5T3U74">kC</span>.l5</span>*<span class="mxinfo " id="T2:U59">cos(<span class="mxinfo " id="T2:U60"><span class="var type1" id="S8T2U79">gamma</span> + <span class="mxinfo " id="T2:U62"><span class="var type1" id="S5T3U81">kC</span>.zeta</span></span>)</span></span></span> + <span class="mxinfo " id="T2:U64"><span class="mxinfo " id="T2:U65"><span class="var type1" id="S5T3U85">kC</span>.l3</span>*<span class="mxinfo " id="T2:U67">cos(<span class="var type1" id="S7T2U89">beta</span>)</span></span></span> + <span class="mxinfo " id="T2:U69"><span class="mxinfo " id="T2:U70"><span class="var type1" id="S5T3U92">kC</span>.l4</span>*<span class="mxinfo " id="T2:U72">cos(<span class="mxinfo " id="T2:U73"><span class="var type1" id="S5T3U97">kC</span>.zeta</span>)</span></span></span>)</span><span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="122,18" id="srcline18">18</a></span><span class="line"><span class="mxinfo " id="T2:U38"><span class="mxinfo " id="T2:U40"><span class="mxinfo " id="T2:U41">                - <span class="mxinfo " id="T2:U75"><span class="mxinfo " id="T2:U76"><span class="mxinfo " id="T2:U77"><span class="var type1" id="S11T2U102">betaDot</span>*<span class="mxinfo " id="T2:U79"><span class="var type1" id="S5T3U104">kC</span>.l3</span></span>*<span class="mxinfo " id="T2:U81">cos(<span class="var type1" id="S6T2U108">alpha</span>)</span></span>*<span class="mxinfo " id="T2:U83">sin(<span class="var type1" id="S7T2U111">beta</span>)</span></span></span><span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="122,19" id="srcline19">19</a></span><span class="line"><span class="mxinfo " id="T2:U38"><span class="mxinfo " id="T2:U40">                - <span class="mxinfo " id="T2:U85"><span class="mxinfo " id="T2:U86"><span class="mxinfo " id="T2:U87"><span class="var type1" id="S12T2U115">gammaDot</span>*<span class="mxinfo " id="T2:U89"><span class="var type1" id="S5T3U117">kC</span>.l5</span></span>*<span class="mxinfo " id="T2:U91">sin(<span class="mxinfo " id="T2:U92"><span class="var type1" id="S8T2U122">gamma</span> + <span class="mxinfo " id="T2:U94"><span class="var type1" id="S5T3U124">kC</span>.zeta</span></span>)</span></span>*<span class="mxinfo " id="T2:U96">cos(<span class="var type1" id="S6T2U128">alpha</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T2:U98"><span class="var type1" id="S16T2U131">yDot</span> =      <span class="mxinfo " id="T2:U100"><span class="mxinfo " id="T2:U101"><span class="mxinfo " id="T2:U102"><span class="mxinfo " id="T2:U103"><span class="var type1" id="S10T2U136">alphaDot</span>*<span class="mxinfo " id="T2:U105">cos(<span class="var type1" id="S6T2U139">alpha</span>)</span></span>*(<span class="mxinfo " id="T2:U107"><span class="mxinfo " id="T2:U108"><span class="mxinfo " id="T2:U109"><span class="mxinfo " id="T2:U110"><span class="mxinfo " id="T2:U111"><span class="var type1" id="S5T3U146">kC</span>.l2</span> - <span class="mxinfo " id="T2:U113"><span class="var type1" id="S5T3U149">kC</span>.l7</span></span> + <span class="mxinfo " id="T2:U115"><span class="mxinfo " id="T2:U116"><span class="var type1" id="S5T3U153">kC</span>.l5</span>*<span class="mxinfo " id="T2:U118">cos(<span class="mxinfo " id="T2:U119"><span class="var type1" id="S8T2U158">gamma</span> + <span class="mxinfo " id="T2:U121"><span class="var type1" id="S5T3U160">kC</span>.zeta</span></span>)</span></span></span> + <span class="mxinfo " id="T2:U123"><span class="mxinfo " id="T2:U124"><span class="var type1" id="S5T3U164">kC</span>.l3</span>*<span class="mxinfo " id="T2:U126">cos(<span class="var type1" id="S7T2U168">beta</span>)</span></span></span> + <span class="mxinfo " id="T2:U128"><span class="mxinfo " id="T2:U129"><span class="var type1" id="S5T3U171">kC</span>.l4</span>*<span class="mxinfo " id="T2:U131">cos(<span class="mxinfo " id="T2:U132"><span class="var type1" id="S5T3U176">kC</span>.zeta</span>)</span></span></span>)</span><span class="keyword">...</span></span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="122,21" id="srcline21">21</a></span><span class="line"><span class="mxinfo " id="T2:U98"><span class="mxinfo " id="T2:U100"><span class="mxinfo " id="T2:U101">                -<span class="mxinfo " id="T2:U134"><span class="mxinfo " id="T2:U135"><span class="mxinfo " id="T2:U136"><span class="var type1" id="S12T2U181">gammaDot</span>*<span class="mxinfo " id="T2:U138"><span class="var type1" id="S5T3U183">kC</span>.l5</span></span>*<span class="mxinfo " id="T2:U140">sin(<span class="mxinfo " id="T2:U141"><span class="var type1" id="S8T2U188">gamma</span> + <span class="mxinfo " id="T2:U143"><span class="var type1" id="S5T3U190">kC</span>.zeta</span></span>)</span></span>*<span class="mxinfo " id="T2:U145">sin(<span class="var type1" id="S6T2U194">alpha</span>)</span></span></span><span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="122,22" id="srcline22">22</a></span><span class="line"><span class="mxinfo " id="T2:U98"><span class="mxinfo " id="T2:U100">                -<span class="mxinfo " id="T2:U147"><span class="mxinfo " id="T2:U148"><span class="mxinfo " id="T2:U149"><span class="var type1" id="S11T2U198">betaDot</span>*<span class="mxinfo " id="T2:U151"><span class="var type1" id="S5T3U200">kC</span>.l3</span></span>*<span class="mxinfo " id="T2:U153">sin(<span class="var type1" id="S6T2U204">alpha</span>)</span></span>*<span class="mxinfo " id="T2:U155">sin(<span class="var type1" id="S7T2U207">beta</span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,23" id="srcline23">23</a></span><span class="line">    <span class="mxinfo " id="T2:U157"><span class="var type1" id="S17T2U210">zDot</span> =      <span class="mxinfo " id="T2:U159"><span class="mxinfo " id="T2:U160"><span class="mxinfo " id="T2:U161"><span class="mxinfo " id="T2:U162">-<span class="var type1" id="S11T2U215">betaDot</span></span>*<span class="mxinfo " id="T2:U164"><span class="var type1" id="S5T3U217">kC</span>.l3</span></span>*<span class="mxinfo " id="T2:U166">cos(<span class="var type1" id="S7T2U221">beta</span>)</span></span><span class="keyword">...</span></span></span></span></span>
<span class="srcline"><span class="lineno"><a href="122,24" id="srcline24">24</a></span><span class="line"><span class="mxinfo " id="T2:U157"><span class="mxinfo " id="T2:U159">                -<span class="mxinfo " id="T2:U168"><span class="mxinfo " id="T2:U169"><span class="mxinfo " id="T2:U170"><span class="var type1" id="S5T3U225">kC</span>.l5</span>*<span class="var type1" id="S12T2U227">gammaDot</span></span>*<span class="mxinfo " id="T2:U173">cos(<span class="mxinfo " id="T2:U174"><span class="mxinfo " id="T2:U175"><span class="var type1" id="S5T3U232">kC</span>.zeta</span>+<span class="var type1" id="S8T2U234">gamma</span></span>)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,25" id="srcline25">25</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,26" id="srcline26">26</a></span><span class="line">    <span class="mxinfo " id="T8:U178"><span class="var type1" id="S2T8U237">uDot</span> = <span class="mxinfo " id="T8:U180"><span class="mxinfo " id="T45:U181">[<span class="var type1" id="S13T2U241">xDot</span> <span class="var type1" id="S16T2U242">yDot</span> <span class="var type1" id="S17T2U243">zDot</span>]</span>'</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,27" id="srcline27">27</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,28" id="srcline28">28</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>

<pre class="code">
<span class="srcline"><span class="lineno"><a href="116,71" id="srcline71">71</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="116,72" id="srcline72">72</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S44T50U291">T</span>,<span class="var type1" id="S45T2U292">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T50:U3"><span class="mxinfo " id="T50:U4"><span class="var type1" id="S44T50U295">T</span></span></span>,<span class="var type1" id="S46T18U296">jointLimits</span>,<span class="var type1" id="S47T4U297">cartesianLimits</span>,<span class="var type1" id="S48T3U298">kC</span>,<span class="var type1" id="S49T2U299">panHeight</span>,<span class="var type1" id="S50T48U300">U</span>,<span class="var type1" id="S51T2U301">Dt</span>,<span class="var type1" id="S52T2U302">dt</span>,<span class="var type1" id="S53T5U303">NODE_SIZE</span>,<span class="var type1" id="S54T5U304">U_SIZE</span>,<span class="var type1" id="S55T45U305">HGAINS</span>,<span class="var type1" id="S56T2U306">ankleThreshold</span>,<span class="mxinfo " id="T2:U17"><span class="mxinfo " id="T2:U18"><span class="var type1" id="S45T2U307">nodeIDCount</span></span></span>,<span class="var type1" id="S57T47U308">nGoal</span>,<span class="var type1" id="S58T5U309">goalSeedFreq</span>,<span class="var type1" id="S59T49U310">uBDot</span>,<span class="var type1" id="S60T5U311">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="116,73" id="srcline73">73</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="116,74" id="srcline74">74</a></span><span class="line">    <span class="mxinfo " id="T47:U24"><span class="var type1" id="S61T47U314">xRand</span> = <span class="mxinfo " id="T47:U26"><span class="fcn" id="F233N19:B316">randomState</span>(<span class="var type1" id="S46T18U317">jointLimits</span>,<span class="var type1" id="S47T4U318">cartesianLimits</span>,<span class="var type1" id="S49T2U319">panHeight</span>,<span class="var type1" id="S57T47U320">nGoal</span>,<span class="var type1" id="S45T2U321">nodeIDCount</span>,<span class="mxinfo " id="T5:U32"><span class="var type1" id="S58T5U322">goalSeedFreq</span></span>,<span class="var type1" id="S48T3U323">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="116,75" id="srcline75">75</a></span><span class="line">    [<span class="mxinfo " id="T64:U35"><span class="var type1" id="S63T64U327">xNear</span></span>,<span class="mxinfo " id="T2:U37"><span class="mxinfo " id="T2:U38">~</span></span>,<span class="mxinfo " id="T2:U39"><span class="mxinfo " id="T2:U40">~</span></span>] = <span class="fcn" id="F273N18:B331">nearestNeighbour</span>(<span class="var type1" id="S61T47U332">xRand</span>,<span class="var type1" id="S44T50U333">T</span>,<span class="var type1" id="S55T45U334">HGAINS</span>,<span class="var type1" id="S46T18U335">jointLimits</span>,<span class="var type1" id="S48T3U336">kC</span>,<span class="var type1" id="S45T2U337">nodeIDCount</span>,<span class="mxinfo " id="T5:U47"><span class="var type1" id="S53T5U338">NODE_SIZE</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="116,76" id="srcline76">76</a></span><span class="line">    [<span class="mxinfo " id="T64:U49"><span class="var type1" id="S65T64U342">xNew</span></span>,<span class="mxinfo " id="T53:U51"><span class="var type1" id="S66T53U343">transitionArray</span></span>]  = <span class="fcn" id="F366N23:B345">selectInput</span>(<span class="var type1" id="S63T64U346">xNear</span>,<span class="var type1" id="S61T47U347">xRand</span>,<span class="var type1" id="S50T48U348">U</span>,<span class="var type1" id="S52T2U349">dt</span>,<span class="var type1" id="S51T2U350">Dt</span>,<span class="mxinfo " id="T5:U58"><span class="var type1" id="S53T5U351">NODE_SIZE</span></span>,<span class="mxinfo " id="T5:U60"><span class="var type1" id="S54T5U352">U_SIZE</span></span>,<span class="var type1" id="S55T45U353">HGAINS</span>,<span class="var type1" id="S48T3U354">kC</span>,<span class="var type1" id="S56T2U355">ankleThreshold</span>,<span class="var type1" id="S46T18U356">jointLimits</span>,<span class="var type1" id="S59T49U357">uBDot</span>,<span class="var type1" id="S60T5U358">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="116,77" id="srcline77">77</a></span><span class="line">    <span class="mxinfo " id="T2:U68"><span class="var type1" id="S45T2U361">nodeIDCount</span> = <span class="mxinfo " id="T2:U70"><span class="var type1" id="S45T2U363">nodeIDCount</span> + <span class="mxinfo " id="T2:U72">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="116,78" id="srcline78">78</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="116,79" id="srcline79">79</a></span><span class="line">    <span class="mxinfo " id="T2:U73"><span class="mxinfo " id="T2:U74"><span class="var type1" id="S65T64U368">xNew</span>(<span class="mxinfo " id="T2:U76">1</span>)</span> = <span class="var type1" id="S45T2U370">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,80" id="srcline80">80</a></span><span class="line">    <span class="mxinfo " id="T2:U78"><span class="mxinfo " id="T2:U79"><span class="var type1" id="S65T64U374">xNew</span>(<span class="mxinfo " id="T2:U81">2</span>)</span> = <span class="mxinfo " id="T2:U82"><span class="var type1" id="S63T64U377">xNear</span>(<span class="mxinfo " id="T2:U84">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,81" id="srcline81">81</a></span><span class="line">    <span class="mxinfo " id="T2:U85"><span class="mxinfo " id="T2:U86"><span class="var type1" id="S65T64U382">xNew</span>(<span class="mxinfo " id="T2:U88">3</span>)</span> = <span class="mxinfo " id="T2:U89"><span class="fcn" id="F367N15:B385">heuristicSingleLeg</span>(<span class="var type1" id="S65T64U386">xNew</span>,<span class="var type1" id="S63T64U387">xNear</span>,<span class="var type1" id="S55T45U388">HGAINS</span>,<span class="var type1" id="S46T18U389">jointLimits</span>,<span class="var type1" id="S48T3U390">kC</span>)</span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,82" id="srcline82">82</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="116,83" id="srcline83">83</a></span><span class="line">    <span class="mxinfo " id="T53:U95"><span class="mxinfo " id="T53:U96"><span class="var type1" id="S44T50U394">T</span>(<span class="var type1" id="S45T2U395">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T53:U99">[<span class="var type1" id="S65T64U399">xNew</span> <span class="var type1" id="S66T53U400">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="116,84" id="srcline84">84</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,85" id="srcline85">85</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,86" id="srcline86">86</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,87" id="srcline87">87</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="116,88" id="srcline88">88</a></span><span class="line"></span></span>
</pre>

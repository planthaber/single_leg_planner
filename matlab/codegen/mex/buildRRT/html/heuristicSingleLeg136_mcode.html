<pre class="code">
<span class="srcline"><span class="lineno"><a href="38,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%heuristicSingleLeg.m</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%author: wreid</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%date: 20150107</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="38,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T1U3">d</span> = heuristicSingleLeg(<span class="var type1" id="S3T6U6">xA</span>,<span class="var type1" id="S4T22U7">xB</span>,<span class="var type1" id="S5T15U8">HGAINS</span>,<span class="var type1" id="S6T12U9">range</span>,<span class="var type1" id="S7T13U10">kinematicConst</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="38,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%heuristic Calculates the distance between states x1 and x2.</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,7" id="srcline7"> 7</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="38,8" id="srcline8"> 8</a></span><span class="line">    <span class="mxinfo " id="T1:U7"><span class="var type1" id="S8T1U13">alphaA</span> = <span class="mxinfo " id="T1:U9"><span class="var type1" id="S3T6U15">xA</span>(<span class="mxinfo " id="T1:U11">4</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="38,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo " id="T1:U12"><span class="var type1" id="S9T1U19">betaA</span> = <span class="mxinfo " id="T1:U14"><span class="var type1" id="S3T6U21">xA</span>(<span class="mxinfo " id="T1:U16">5</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T1:U17"><span class="var type1" id="S10T1U25">gammaA</span> = <span class="mxinfo " id="T1:U19"><span class="var type1" id="S3T6U27">xA</span>(<span class="mxinfo " id="T1:U21">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,11" id="srcline11">11</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,12" id="srcline12">12</a></span><span class="line">    <span class="mxinfo " id="T1:U22"><span class="var type1" id="S11T1U31">alphaB</span> = <span class="mxinfo " id="T1:U24"><span class="var type1" id="S4T22U33">xB</span>(<span class="mxinfo " id="T1:U26">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,13" id="srcline13">13</a></span><span class="line">    <span class="mxinfo " id="T1:U27"><span class="var type1" id="S12T1U37">betaB</span> = <span class="mxinfo " id="T1:U29"><span class="var type1" id="S4T22U39">xB</span>(<span class="mxinfo " id="T1:U31">5</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo " id="T1:U32"><span class="var type1" id="S13T1U43">gammaB</span> = <span class="mxinfo " id="T1:U34"><span class="var type1" id="S4T22U45">xB</span>(<span class="mxinfo " id="T1:U36">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,15" id="srcline15">15</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,16" id="srcline16">16</a></span><span class="line">    <span class="mxinfo " id="T1:U37"><span class="var type1" id="S14T1U49">L1</span> = <span class="mxinfo " id="T1:U39"><span class="var type1" id="S7T13U51">kinematicConst</span>(<span class="mxinfo " id="T1:U41">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,17" id="srcline17">17</a></span><span class="line">    <span class="mxinfo " id="T1:U42"><span class="var type1" id="S15T1U55">L2</span> = <span class="mxinfo " id="T1:U44"><span class="var type1" id="S7T13U57">kinematicConst</span>(<span class="mxinfo " id="T1:U46">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T1:U47"><span class="var type1" id="S16T1U61">L3</span> = <span class="mxinfo " id="T1:U49"><span class="var type1" id="S7T13U63">kinematicConst</span>(<span class="mxinfo " id="T1:U51">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,19" id="srcline19">19</a></span><span class="line">    <span class="mxinfo " id="T1:U52"><span class="var type1" id="S17T1U67">L4</span> = <span class="mxinfo " id="T1:U54"><span class="var type1" id="S7T13U69">kinematicConst</span>(<span class="mxinfo " id="T1:U56">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T1:U57"><span class="var type1" id="S18T1U73">L5</span> = <span class="mxinfo " id="T1:U59"><span class="var type1" id="S7T13U75">kinematicConst</span>(<span class="mxinfo " id="T1:U61">5</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,21" id="srcline21">21</a></span><span class="line">    <span class="mxinfo " id="T1:U62"><span class="var type1" id="S19T1U79">L6</span> = <span class="mxinfo " id="T1:U64"><span class="var type1" id="S7T13U81">kinematicConst</span>(<span class="mxinfo " id="T1:U66">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,22" id="srcline22">22</a></span><span class="line">    <span class="mxinfo " id="T1:U67"><span class="var type1" id="S20T1U85">L7</span> = <span class="mxinfo " id="T1:U69"><span class="var type1" id="S7T13U87">kinematicConst</span>(<span class="mxinfo " id="T1:U71">7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,23" id="srcline23">23</a></span><span class="line">    <span class="mxinfo " id="T1:U72"><span class="var type1" id="S21T1U91">L8</span> = <span class="mxinfo " id="T1:U74"><span class="var type1" id="S7T13U93">kinematicConst</span>(<span class="mxinfo " id="T1:U76">8</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,24" id="srcline24">24</a></span><span class="line">    <span class="mxinfo " id="T1:U77"><span class="var type1" id="S22T1U97">zeta</span> = <span class="mxinfo " id="T1:U79"><span class="var type1" id="S7T13U99">kinematicConst</span>(<span class="mxinfo " id="T1:U81">9</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,25" id="srcline25">25</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,26" id="srcline26">26</a></span><span class="line">    <span class="comment">%[x1,y1,z1] = fk(alpha1,beta1,gamma1,kinematicConst);</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,27" id="srcline27">27</a></span><span class="line">    <span class="comment">%[x2,y2,z2] = fk(alpha2,beta2,gamma2,kinematicConst);</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,28" id="srcline28">28</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,29" id="srcline29">29</a></span><span class="line">    <span class="comment">%distMAX = [sqrt(range(1)^2+range(2)+range(3)^2) sqrt(range(4)^2+range(5)^2+range(6)^2)];</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,30" id="srcline30">30</a></span><span class="line">    <span class="comment">%distMAX = [10 1];</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,31" id="srcline31">31</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,32" id="srcline32">32</a></span><span class="line">    <span class="comment">%d = HGAINS(1)*cartDist(xA(4:6),xB(4:6))/distMAX(1) +<span class="keyword">...</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="38,33" id="srcline33">33</a></span><span class="line">    <span class="comment">%    HGAINS(2)*abs(z1-z2);</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,34" id="srcline34">34</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,35" id="srcline35">35</a></span><span class="line">    <span class="comment">%d = HGAINS(1)*cartDist([x1 y1 z1],[x2 y2 z2])/distMAX(1);</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,36" id="srcline36">36</a></span><span class="line">    <span class="comment">%    HGAINS(2)*cartDist(x1(7:9),x2(7:9))/distMAX(2);</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,37" id="srcline37">37</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="38,38" id="srcline38">38</a></span><span class="line">    <span class="mxinfo " id="T1:U82"><span class="var type1" id="S23T1U103">xStarA</span> = <span class="mxinfo " id="T1:U84"><span class="fcn" id="F62N8:B105">legRadius</span>(<span class="var type1" id="S9T1U106">betaA</span>,<span class="var type1" id="S10T1U107">gammaA</span>,<span class="var type1" id="S22T1U108">zeta</span>,<span class="var type1" id="S15T1U109">L2</span>,<span class="var type1" id="S16T1U110">L3</span>,<span class="var type1" id="S17T1U111">L4</span>,<span class="var type1" id="S18T1U112">L5</span>,<span class="var type1" id="S20T1U113">L7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,39" id="srcline39">39</a></span><span class="line">    <span class="mxinfo " id="T1:U93"><span class="var type1" id="S25T1U116">xStarB</span> = <span class="mxinfo " id="T1:U95"><span class="fcn" id="F62N8:B118">legRadius</span>(<span class="var type1" id="S12T1U119">betaB</span>,<span class="var type1" id="S13T1U120">gammaB</span>,<span class="var type1" id="S22T1U121">zeta</span>,<span class="var type1" id="S15T1U122">L2</span>,<span class="var type1" id="S16T1U123">L3</span>,<span class="var type1" id="S17T1U124">L4</span>,<span class="var type1" id="S18T1U125">L5</span>,<span class="var type1" id="S20T1U126">L7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,40" id="srcline40">40</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,41" id="srcline41">41</a></span><span class="line">    <span class="mxinfo " id="T1:U104"><span class="var type1" id="S26T1U129">dxStar</span> = <span class="mxinfo " id="T1:U106"><span class="var type1" id="S25T1U131">xStarB</span>-<span class="var type1" id="S23T1U132">xStarA</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,42" id="srcline42">42</a></span><span class="line">    <span class="mxinfo " id="T1:U109"><span class="var type1" id="S27T1U135">dAlpha</span> = <span class="mxinfo " id="T1:U111"><span class="fcn" id="F67N2:B137">angDiff</span>(<span class="var type1" id="S8T1U138">alphaA</span>,<span class="var type1" id="S11T1U139">alphaB</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="38,43" id="srcline43">43</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,44" id="srcline44">44</a></span><span class="line">    <span class="mxinfo " id="T1:U114"><span class="var type1" id="S2T1U142">d</span> = <span class="mxinfo " id="T1:U116">sqrt(<span class="mxinfo " id="T1:U117"><span class="mxinfo " id="T1:U118"><span class="var type1" id="S26T1U147">dxStar</span>^2</span>+<span class="mxinfo " id="T1:U120"><span class="mxinfo " id="T1:U121"><span class="var type1" id="S23T1U151">xStarA</span>^2</span>*<span class="mxinfo " id="T1:U123"><span class="var type1" id="S27T1U154">dAlpha</span>^2</span></span></span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="38,45" id="srcline45">45</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="38,46" id="srcline46">46</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="38,47" id="srcline47">47</a></span><span class="line"></span></span>
</pre>

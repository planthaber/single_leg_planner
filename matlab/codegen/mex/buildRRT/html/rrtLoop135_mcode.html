<pre class="code">
<span class="srcline"><span class="lineno"><a href="1,56" id="srcline56">56</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,57" id="srcline57">57</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S35T11U231">T</span>,<span class="var type1" id="S36T1U232">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T11:U3"><span class="mxinfo " id="T11:U4"><span class="var type1" id="S35T11U235">T</span></span></span>,<span class="var type1" id="S37T12U236">jointRange</span>,<span class="var type1" id="S38T7U237">jointLimits</span>,<span class="var type1" id="S39T13U238">kinematicConst</span>,<span class="var type1" id="S40T1U239">K</span>,<span class="var type1" id="S41T14U240">U</span>,<span class="var type1" id="S42T1U241">Dt</span>,<span class="var type1" id="S43T1U242">dt</span>,<span class="var type1" id="S44T5U243">NODE_SIZE</span>,<span class="var type1" id="S45T5U244">U_SIZE</span>,<span class="var type1" id="S46T15U245">HGAINS</span>,<span class="var type1" id="S47T1U246">ankleThreshold</span>,<span class="mxinfo " id="T1:U17"><span class="mxinfo " id="T1:U18"><span class="var type1" id="S36T1U247">nodeIDCount</span></span></span>,<span class="var type1" id="S48T6U248">nGoal</span>,<span class="var type1" id="S49T5U249">goalSeedFreq</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="1,58" id="srcline58">58</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="1,59" id="srcline59">59</a></span><span class="line">    <span class="mxinfo " id="T32:U22"><span class="var type1" id="S50T32U252">xRand</span> = <span class="mxinfo " id="T32:U24"><span class="fcn" id="F61N10:B254">randomState</span>(<span class="var type1" id="S37T12U255">jointRange</span>,<span class="mxinfo " id="T12:U26"><span class="var type1" id="S38T7U257">jointLimits</span>(<span class="mxinfo " id="T1:U28">1</span>,:)</span>,<span class="var type1" id="S39T13U260">kinematicConst</span>,<span class="var type1" id="S40T1U261">K</span>,<span class="var type1" id="S48T6U262">nGoal</span>,<span class="var type1" id="S36T1U263">nodeIDCount</span>,<span class="var type1" id="S49T5U264">goalSeedFreq</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,60" id="srcline60">60</a></span><span class="line">    [<span class="mxinfo " id="T22:U34"><span class="var type1" id="S52T22U268">xNear</span></span>,<span class="mxinfo " id="T1:U36"><span class="mxinfo " id="T1:U37">~</span></span>,<span class="mxinfo " id="T1:U38"><span class="mxinfo " id="T1:U39">~</span></span>] = <span class="fcn" id="F103N9:B272">nearestNeighbour</span>(<span class="var type1" id="S50T32U273">xRand</span>,<span class="var type1" id="S35T11U274">T</span>,<span class="var type1" id="S46T15U275">HGAINS</span>,<span class="var type1" id="S37T12U276">jointRange</span>,<span class="var type1" id="S39T13U277">kinematicConst</span>,<span class="var type1" id="S36T1U278">nodeIDCount</span>,<span class="var type1" id="S44T5U279">NODE_SIZE</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,61" id="srcline61">61</a></span><span class="line">    [<span class="mxinfo " id="T22:U47"><span class="var type1" id="S54T22U283">xNew</span></span>,<span class="mxinfo " id="T22:U49"><span class="var type1" id="S55T22U284">transitionArray</span></span>]  = <span class="fcn" id="F134N13:B286">selectInput</span>(<span class="var type1" id="S52T22U287">xNear</span>,<span class="var type1" id="S50T32U288">xRand</span>,<span class="var type1" id="S41T14U289">U</span>,<span class="var type1" id="S43T1U290">dt</span>,<span class="var type1" id="S42T1U291">Dt</span>,<span class="var type1" id="S44T5U292">NODE_SIZE</span>,<span class="var type1" id="S45T5U293">U_SIZE</span>,<span class="var type1" id="S46T15U294">HGAINS</span>,<span class="var type1" id="S37T12U295">jointRange</span>,<span class="var type1" id="S39T13U296">kinematicConst</span>,<span class="var type1" id="S47T1U297">ankleThreshold</span>,<span class="var type1" id="S38T7U298">jointLimits</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="1,62" id="srcline62">62</a></span><span class="line">    <span class="mxinfo " id="T1:U63"><span class="var type1" id="S36T1U301">nodeIDCount</span> = <span class="mxinfo " id="T1:U65"><span class="var type1" id="S36T1U303">nodeIDCount</span> + <span class="mxinfo " id="T1:U67">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="1,63" id="srcline63">63</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,64" id="srcline64">64</a></span><span class="line">    <span class="mxinfo " id="T1:U68"><span class="mxinfo " id="T1:U69"><span class="var type1" id="S54T22U308">xNew</span>(<span class="mxinfo " id="T1:U71">1</span>)</span> = <span class="var type1" id="S36T1U310">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,65" id="srcline65">65</a></span><span class="line">    <span class="mxinfo " id="T1:U73"><span class="mxinfo " id="T1:U74"><span class="var type1" id="S54T22U314">xNew</span>(<span class="mxinfo " id="T1:U76">2</span>)</span> = <span class="mxinfo " id="T1:U77"><span class="var type1" id="S52T22U317">xNear</span>(<span class="mxinfo " id="T1:U79">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,66" id="srcline66">66</a></span><span class="line">    <span class="mxinfo " id="T1:U80"><span class="mxinfo " id="T1:U81"><span class="var type1" id="S54T22U322">xNew</span>(<span class="mxinfo " id="T1:U83">3</span>)</span> = <span class="mxinfo " id="T1:U84"><span class="fcn" id="F77N7:B325">heuristicSingleLeg</span>(<span class="var type1" id="S54T22U326">xNew</span>,<span class="var type1" id="S52T22U327">xNear</span>,<span class="var type1" id="S46T15U328">HGAINS</span>,<span class="var type1" id="S37T12U329">jointRange</span>,<span class="var type1" id="S39T13U330">kinematicConst</span>)</span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,67" id="srcline67">67</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="1,68" id="srcline68">68</a></span><span class="line">    <span class="mxinfo " id="T22:U90"><span class="mxinfo " id="T22:U91"><span class="var type1" id="S35T11U334">T</span>(<span class="var type1" id="S36T1U335">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T22:U94">[<span class="var type1" id="S54T22U339">xNew</span> <span class="var type1" id="S55T22U340">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="1,69" id="srcline69">69</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T2:U97"><span class="mxinfo " id="T1:U98">mod(<span class="var type1" id="S36T1U346">nodeIDCount</span>,<span class="mxinfo " id="T1:U100">100</span>)</span> == <span class="mxinfo " id="T1:U101">0</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="1,70" id="srcline70">70</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,71" id="srcline71">71</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,72" id="srcline72">72</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="1,73" id="srcline73">73</a></span><span class="line"></span></span>
</pre>

<pre class="code">
<span class="srcline"><span class="lineno"><a href="122,111" id="srcline111">111</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,112" id="srcline112">112</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S69T63U502">T</span>,<span class="var type1" id="S70T4U503">nodeIDCount</span>,<span class="var type1" id="S71T64U504">xNew</span>] = rrtLoop(<span class="mxinfo " id="T63:U4"><span class="mxinfo " id="T63:U5"><span class="var type1" id="S69T63U507">T</span></span></span>,<span class="var type1" id="S72T20U508">jointLimits</span>,<span class="var type1" id="S73T6U509">cartesianLimits</span>,<span class="var type1" id="S74T5U510">kC</span>,<span class="var type1" id="S75T4U511">panHeight</span>,<span class="var type1" id="S76T48U512">U</span>,<span class="var type1" id="S77T4U513">Dt</span>,<span class="var type1" id="S78T4U514">dt</span>,<span class="var type1" id="S79T7U515">NODE_SIZE</span>,<span class="var type1" id="S80T7U516">U_SIZE</span>,<span class="var type1" id="S81T45U517">HGAINS</span>,<span class="var type1" id="S82T4U518">ankleThreshold</span>,<span class="mxinfo " id="T4:U18"><span class="mxinfo " id="T4:U19"><span class="var type1" id="S70T4U519">nodeIDCount</span></span></span>,<span class="var type1" id="S83T47U520">nGoal</span>,<span class="var type1" id="S84T7U521">goalSeedFreq</span>,<span class="var type1" id="S85T49U522">uBDot</span>,<span class="var type1" id="S86T7U523">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="122,113" id="srcline113">113</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="122,114" id="srcline114">114</a></span><span class="line">    <span class="mxinfo " id="T47:U25"><span class="var type1" id="S87T47U526">xRand</span> = <span class="mxinfo " id="T47:U27"><span class="fcn" id="F231N22:B528">randomState</span>(<span class="var type1" id="S72T20U529">jointLimits</span>,<span class="var type1" id="S73T6U530">cartesianLimits</span>,<span class="var type1" id="S75T4U531">panHeight</span>,<span class="var type1" id="S83T47U532">nGoal</span>,<span class="var type1" id="S70T4U533">nodeIDCount</span>,<span class="var type1" id="S84T7U534">goalSeedFreq</span>,<span class="var type1" id="S74T5U535">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,115" id="srcline115">115</a></span><span class="line">    [<span class="mxinfo " id="T64:U35"><span class="var type1" id="S89T64U539">xNear</span></span>,<span class="mxinfo " id="T4:U37"><span class="mxinfo " id="T4:U38">~</span></span>,<span class="mxinfo " id="T4:U39"><span class="mxinfo " id="T4:U40">~</span></span>] = <span class="fcn" id="F274N21:B543">nearestNeighbour</span>(<span class="var type1" id="S87T47U544">xRand</span>,<span class="var type1" id="S69T63U545">T</span>,<span class="var type1" id="S81T45U546">HGAINS</span>,<span class="var type1" id="S72T20U547">jointLimits</span>,<span class="var type1" id="S74T5U548">kC</span>,<span class="var type1" id="S70T4U549">nodeIDCount</span>,<span class="mxinfo " id="T7:U47"><span class="var type1" id="S79T7U550">NODE_SIZE</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,116" id="srcline116">116</a></span><span class="line">    [<span class="mxinfo " id="T64:U49"><span class="var type1" id="S71T64U554">xNew</span></span>,<span class="mxinfo " id="T51:U51"><span class="var type1" id="S91T51U555">transitionArray</span></span>]  = <span class="fcn" id="F369N26:B557">selectInput</span>(<span class="var type1" id="S89T64U558">xNear</span>,<span class="var type1" id="S87T47U559">xRand</span>,<span class="var type1" id="S76T48U560">U</span>,<span class="var type1" id="S78T4U561">dt</span>,<span class="var type1" id="S77T4U562">Dt</span>,<span class="mxinfo " id="T7:U58"><span class="var type1" id="S79T7U563">NODE_SIZE</span></span>,<span class="mxinfo " id="T7:U60"><span class="var type1" id="S80T7U564">U_SIZE</span></span>,<span class="var type1" id="S81T45U565">HGAINS</span>,<span class="var type1" id="S74T5U566">kC</span>,<span class="mxinfo " id="T4:U64"><span class="var type1" id="S82T4U567">ankleThreshold</span></span>,<span class="var type1" id="S72T20U568">jointLimits</span>,<span class="var type1" id="S85T49U569">uBDot</span>,<span class="var type1" id="S86T7U570">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,117" id="srcline117">117</a></span><span class="line">    <span class="mxinfo " id="T4:U69"><span class="var type1" id="S70T4U573">nodeIDCount</span> = <span class="mxinfo " id="T4:U71"><span class="var type1" id="S70T4U575">nodeIDCount</span> + <span class="mxinfo " id="T4:U73">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,118" id="srcline118">118</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,119" id="srcline119">119</a></span><span class="line">    <span class="mxinfo " id="T4:U74"><span class="mxinfo " id="T4:U75"><span class="var type1" id="S71T64U580">xNew</span>(<span class="mxinfo " id="T4:U77">1</span>)</span> = <span class="var type1" id="S70T4U582">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T4:U79"><span class="mxinfo " id="T4:U80"><span class="var type1" id="S71T64U586">xNew</span>(<span class="mxinfo " id="T4:U82">2</span>)</span> = <span class="mxinfo " id="T4:U83"><span class="var type1" id="S89T64U589">xNear</span>(<span class="mxinfo " id="T4:U85">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T4:U86"><span class="mxinfo " id="T4:U87"><span class="var type1" id="S71T64U594">xNew</span>(<span class="mxinfo " id="T4:U89">3</span>)</span> = <span class="mxinfo " id="T4:U90"><span class="mxinfo " id="T4:U91"><span class="var type1" id="S89T64U598">xNear</span>(<span class="mxinfo " id="T4:U93">3</span>)</span> + <span class="mxinfo " id="T4:U94"><span class="fcn" id="F370N20:B601">heuristicSingleLeg</span>(<span class="var type1" id="S71T64U602">xNew</span>,<span class="var type1" id="S89T64U603">xNear</span>,<span class="var type1" id="S81T45U604">HGAINS</span>,<span class="var type1" id="S72T20U605">jointLimits</span>,<span class="var type1" id="S74T5U606">kC</span>)</span></span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,122" id="srcline122">122</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,123" id="srcline123">123</a></span><span class="line">    <span class="mxinfo " id="T51:U100"><span class="mxinfo " id="T51:U101"><span class="var type1" id="S69T63U610">T</span>(<span class="var type1" id="S70T4U611">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T51:U104">[<span class="var type1" id="S71T64U615">xNew</span> <span class="var type1" id="S91T51U616">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="122,124" id="srcline124">124</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,125" id="srcline125">125</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,126" id="srcline126">126</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,127" id="srcline127">127</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,128" id="srcline128">128</a></span><span class="line"></span></span>
</pre>

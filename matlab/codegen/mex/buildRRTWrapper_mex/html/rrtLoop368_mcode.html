<pre class="code">
<span class="srcline"><span class="lineno"><a href="121,72" id="srcline72">72</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="121,73" id="srcline73">73</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S44T50U301">T</span>,<span class="var type1" id="S45T4U302">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T50:U3"><span class="mxinfo " id="T50:U4"><span class="var type1" id="S44T50U305">T</span></span></span>,<span class="var type1" id="S46T21U306">jointLimits</span>,<span class="mxinfo " id="T7:U7"><span class="var type2" id="S47T7V7U307">cartesianLimits</span></span>,<span class="var type1" id="S48T6U308">kC</span>,<span class="var type1" id="S49T4U309">panHeight</span>,<span class="mxinfo " id="T5:U11"><span class="var type2" id="S50T5V5U310">U</span></span>,<span class="mxinfo " id="T4:U13"><span class="var type2" id="S51T4V4U311">Dt</span></span>,<span class="mxinfo " id="T4:U15"><span class="var type2" id="S52T4V3U312">dt</span></span>,<span class="mxinfo " id="T8:U17"><span class="var type2" id="S53T8V2U313">NODE_SIZE</span></span>,<span class="mxinfo " id="T8:U19"><span class="var type2" id="S54T8V6U314">U_SIZE</span></span>,<span class="mxinfo " id="T46:U21"><span class="var type2" id="S55T46V1U315">HGAINS</span></span>,<span class="mxinfo " id="T4:U23"><span class="var type2" id="S56T4V8U316">ankleThreshold</span></span>,<span class="mxinfo " id="T4:U25"><span class="mxinfo " id="T4:U26"><span class="var type1" id="S45T4U317">nodeIDCount</span></span></span>,<span class="var type1" id="S57T48U318">nGoal</span>,<span class="mxinfo " id="T8:U29"><span class="var type2" id="S58T8V9U319">goalSeedFreq</span></span>,<span class="var type1" id="S59T49U320">uBDot</span>,<span class="var type1" id="S60T8U321">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="121,74" id="srcline74">74</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="121,75" id="srcline75">75</a></span><span class="line">    <span class="mxinfo " id="T48:U33"><span class="var type1" id="S61T48U324">xRand</span> = <span class="mxinfo " id="T48:U35"><span class="fcn" id="F216N23:B326">randomState</span>(<span class="var type1" id="S46T21U327">jointLimits</span>,<span class="mxinfo " id="T7:U37"><span class="var type1" id="S47T7U328">cartesianLimits</span></span>,<span class="var type1" id="S49T4U329">panHeight</span>,<span class="var type1" id="S57T48U330">nGoal</span>,<span class="var type1" id="S45T4U331">nodeIDCount</span>,<span class="var type1" id="S58T8U332">goalSeedFreq</span>,<span class="var type1" id="S48T6U333">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="121,76" id="srcline76">76</a></span><span class="line">    [<span class="mxinfo " id="T48:U44"><span class="var type1" id="S63T48U337">xNear</span></span>,<span class="mxinfo " id="T4:U46"><span class="mxinfo " id="T4:U47">~</span></span>,<span class="mxinfo " id="T4:U48"><span class="mxinfo " id="T4:U49">~</span></span>] = <span class="fcn" id="F259N21:B341">nearestNeighbour</span>(<span class="var type1" id="S61T48U342">xRand</span>,<span class="var type1" id="S44T50U343">T</span>,<span class="var type1" id="S55T46U344">HGAINS</span>,<span class="var type1" id="S46T21U345">jointLimits</span>,<span class="var type1" id="S48T6U346">kC</span>,<span class="var type1" id="S45T4U347">nodeIDCount</span>,<span class="var type1" id="S53T8U348">NODE_SIZE</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="121,77" id="srcline77">77</a></span><span class="line">    [<span class="mxinfo " id="T48:U57"><span class="var type1" id="S65T48U352">xNew</span></span>,<span class="mxinfo " id="T55:U59"><span class="var type1" id="S66T55U353">transitionArray</span></span>]  = <span class="fcn" id="F367N28:B355">selectInput</span>(<span class="var type1" id="S63T48U356">xNear</span>,<span class="var type1" id="S61T48U357">xRand</span>,<span class="var type1" id="S50T5U358">U</span>,<span class="var type1" id="S52T4U359">dt</span>,<span class="var type1" id="S51T4U360">Dt</span>,<span class="var type1" id="S53T8U361">NODE_SIZE</span>,<span class="var type1" id="S54T8U362">U_SIZE</span>,<span class="var type1" id="S55T46U363">HGAINS</span>,<span class="var type1" id="S48T6U364">kC</span>,<span class="mxinfo " id="T4:U70"><span class="var type1" id="S56T4U365">ankleThreshold</span></span>,<span class="var type1" id="S46T21U366">jointLimits</span>,<span class="var type1" id="S59T49U367">uBDot</span>,<span class="var type1" id="S60T8U368">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="121,78" id="srcline78">78</a></span><span class="line">    <span class="mxinfo " id="T4:U75"><span class="var type1" id="S45T4U371">nodeIDCount</span> = <span class="mxinfo " id="T4:U77"><span class="var type1" id="S45T4U373">nodeIDCount</span> + <span class="mxinfo " id="T4:U79">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="121,79" id="srcline79">79</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="121,80" id="srcline80">80</a></span><span class="line">    <span class="mxinfo " id="T4:U80"><span class="mxinfo " id="T4:U81"><span class="var type1" id="S65T48U378">xNew</span>(<span class="mxinfo " id="T4:U83">1</span>)</span> = <span class="var type1" id="S45T4U380">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,81" id="srcline81">81</a></span><span class="line">    <span class="mxinfo " id="T4:U85"><span class="mxinfo " id="T4:U86"><span class="var type1" id="S65T48U384">xNew</span>(<span class="mxinfo " id="T4:U88">2</span>)</span> = <span class="mxinfo " id="T4:U89"><span class="var type1" id="S63T48U387">xNear</span>(<span class="mxinfo " id="T4:U91">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,82" id="srcline82">82</a></span><span class="line">    <span class="mxinfo " id="T4:U92"><span class="mxinfo " id="T4:U93"><span class="var type1" id="S65T48U392">xNew</span>(<span class="mxinfo " id="T4:U95">3</span>)</span> = <span class="mxinfo " id="T4:U96"><span class="mxinfo " id="T4:U97"><span class="var type1" id="S63T48U396">xNear</span>(<span class="mxinfo " id="T4:U99">3</span>)</span> + <span class="mxinfo " id="T4:U100"><span class="fcn" id="F352N19:B399">heuristicSingleLeg</span>(<span class="var type1" id="S65T48U400">xNew</span>,<span class="var type1" id="S63T48U401">xNear</span>,<span class="mxinfo " id="T46:U103"><span class="var type1" id="S55T46U402">HGAINS</span></span>,<span class="var type1" id="S46T21U403">jointLimits</span>,<span class="var type1" id="S48T6U404">kC</span>)</span></span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,83" id="srcline83">83</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="121,84" id="srcline84">84</a></span><span class="line">    <span class="mxinfo " id="T51:U107"><span class="mxinfo " id="T51:U108"><span class="var type1" id="S44T50U408">T</span>(<span class="var type1" id="S45T4U409">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T51:U111">[<span class="var type1" id="S65T48U413">xNew</span> <span class="var type1" id="S66T55U414">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="121,85" id="srcline85">85</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,86" id="srcline86">86</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,87" id="srcline87">87</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,88" id="srcline88">88</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="121,89" id="srcline89">89</a></span><span class="line"></span></span>
</pre>

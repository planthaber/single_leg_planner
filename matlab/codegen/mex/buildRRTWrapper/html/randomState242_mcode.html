<pre class="code">
<span class="srcline"><span class="lineno"><a href="95,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%randomState.m</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%author: wreid</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%date: 20150107</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="95,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T51U3">sRand</span> = randomState(<span class="var type1" id="S3T5U6">jointLimits</span>,<span class="var type1" id="S4T7U7">cartesianLimits</span>,<span class="var type1" id="S5T4U8">panHeight</span>,<span class="var type1" id="S6T51U9">sGoal</span>,<span class="var type1" id="S7T4U10">nodeIDCount</span>,<span class="var type1" id="S8T9U11">goalSeedFreq</span>,<span class="var type1" id="S9T6U12">kC</span>,<span class="var type1" id="S10T4U13">dt</span>,<span class="var type1" id="S11T4U14">Dt</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="95,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%randomState Picks a random state from the state space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%   A random state is selected from the state space within the boundaries of</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%   the state space as defined by the MIN and MAX vectors. The state space has</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%   a dimension n.</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,10" id="srcline10">10</a></span><span class="line"><span class="comment">%   Inputs:</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,11" id="srcline11">11</a></span><span class="line"><span class="comment">%       MIN:    The 1xn vector containing the minimum boundaries for the state</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,12" id="srcline12">12</a></span><span class="line"><span class="comment">%               space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,13" id="srcline13">13</a></span><span class="line"><span class="comment">%       MAX:    The 1xn vector containing the maximum boundaries for the state</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,14" id="srcline14">14</a></span><span class="line"><span class="comment">%               space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,15" id="srcline15">15</a></span><span class="line"><span class="comment">%   Outputs:</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,16" id="srcline16">16</a></span><span class="line"><span class="comment">%       xRand:  The 1xn vector describing the selected random state.   </span></span></span>
<span class="srcline"><span class="lineno"><a href="95,17" id="srcline17">17</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,18" id="srcline18">18</a></span><span class="line">    <span class="mxinfo " id="T4:U11"><span class="var type1" id="S12T4U17">alphaMin</span> = <span class="mxinfo " id="T4:U13"><span class="var type1" id="S3T5U19">jointLimits</span>(<span class="mxinfo " id="T4:U15">1</span>,<span class="mxinfo " id="T4:U16">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,19" id="srcline19">19</a></span><span class="line">    <span class="mxinfo " id="T4:U17"><span class="var type1" id="S13T4U24">alphaMax</span> = <span class="mxinfo " id="T4:U19"><span class="var type1" id="S3T5U26">jointLimits</span>(<span class="mxinfo " id="T4:U21">2</span>,<span class="mxinfo " id="T4:U22">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T4:U23"><span class="var type1" id="S14T4U31">betaMin</span> = <span class="mxinfo " id="T4:U25"><span class="var type1" id="S3T5U33">jointLimits</span>(<span class="mxinfo " id="T4:U27">1</span>,<span class="mxinfo " id="T4:U28">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,21" id="srcline21">21</a></span><span class="line">    <span class="mxinfo " id="T4:U29"><span class="var type1" id="S15T4U38">betaMax</span> = <span class="mxinfo " id="T4:U31"><span class="var type1" id="S3T5U40">jointLimits</span>(<span class="mxinfo " id="T4:U33">2</span>,<span class="mxinfo " id="T4:U34">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,22" id="srcline22">22</a></span><span class="line">    <span class="mxinfo " id="T4:U35"><span class="var type1" id="S16T4U45">gammaMin</span> = <span class="mxinfo " id="T4:U37"><span class="var type1" id="S3T5U47">jointLimits</span>(<span class="mxinfo " id="T4:U39">1</span>,<span class="mxinfo " id="T4:U40">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,23" id="srcline23">23</a></span><span class="line">    <span class="mxinfo " id="T4:U41"><span class="var type1" id="S17T4U52">gammaMax</span> = <span class="mxinfo " id="T4:U43"><span class="var type1" id="S3T5U54">jointLimits</span>(<span class="mxinfo " id="T4:U45">2</span>,<span class="mxinfo " id="T4:U46">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,24" id="srcline24">24</a></span><span class="line">    <span class="mxinfo " id="T4:U47"><span class="var type1" id="S18T4U59">phiMin</span> = <span class="mxinfo " id="T4:U49"><span class="var type1" id="S3T5U61">jointLimits</span>(<span class="mxinfo " id="T4:U51">1</span>,<span class="mxinfo " id="T4:U52">7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,25" id="srcline25">25</a></span><span class="line">    <span class="mxinfo " id="T4:U53"><span class="var type1" id="S19T4U66">phiMax</span> = <span class="mxinfo " id="T4:U55"><span class="var type1" id="S3T5U68">jointLimits</span>(<span class="mxinfo " id="T4:U57">2</span>,<span class="mxinfo " id="T4:U58">7</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,26" id="srcline26">26</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,27" id="srcline27">27</a></span><span class="line">    <span class="mxinfo " id="T4:U59"><span class="var type1" id="S20T4U73">zPMax</span> = <span class="mxinfo " id="T4:U61"><span class="var type1" id="S4T7U75">cartesianLimits</span>(<span class="mxinfo " id="T4:U63">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,28" id="srcline28">28</a></span><span class="line">    <span class="mxinfo " id="T4:U64"><span class="var type1" id="S21T4U79">zPMin</span> = <span class="mxinfo " id="T4:U66"><span class="var type1" id="S4T7U81">cartesianLimits</span>(<span class="mxinfo " id="T4:U68">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,29" id="srcline29">29</a></span><span class="line">    <span class="mxinfo " id="T4:U69"><span class="var type1" id="S22T4U85">zPMid1</span> = <span class="mxinfo " id="T4:U71"><span class="var type1" id="S4T7U87">cartesianLimits</span>(<span class="mxinfo " id="T4:U73">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,30" id="srcline30">30</a></span><span class="line">    <span class="mxinfo " id="T4:U74"><span class="var type1" id="S23T4U91">zPMid2</span> = <span class="mxinfo " id="T4:U76"><span class="var type1" id="S4T7U93">cartesianLimits</span>(<span class="mxinfo " id="T4:U78">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,31" id="srcline31">31</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,32" id="srcline32">32</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T1:U79"><span class="var type1" id="S5T4U99">panHeight</span> &lt;= <span class="var type1" id="S20T4U100">zPMax</span></span> &amp;&amp; <span class="mxinfo " id="T1:U82"><span class="var type1" id="S5T4U102">panHeight</span> &gt;= <span class="var type1" id="S22T4U103">zPMid1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="95,33" id="srcline33">33</a></span><span class="line">        <span class="mxinfo " id="T4:U85"><span class="var type1" id="S24T4U106">xMax</span> = <span class="mxinfo " id="T4:U87"><span class="fcn" id="F218N18:B108">getXStar</span>(<span class="var type1" id="S5T4U109">panHeight</span>,<span class="var type1" id="S16T4U110">gammaMin</span>,<span class="mxinfo " id="T1:U90">false</span>,<span class="var type1" id="S9T6U113">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,34" id="srcline34">34</a></span><span class="line">        <span class="mxinfo " id="T4:U92"><span class="var type1" id="S27T4U116">xMin</span> = <span class="mxinfo " id="T4:U94"><span class="fcn" id="F218N18:B118">getXStar</span>(<span class="var type1" id="S5T4U119">panHeight</span>,<span class="var type1" id="S14T4U120">betaMin</span>,<span class="mxinfo " id="T1:U97">true</span>,<span class="var type1" id="S9T6U123">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,35" id="srcline35">35</a></span><span class="line">    <span class="keyword">elseif</span> <span class="mxinfo " id="T1:U99"><span class="var type1" id="S5T4U127">panHeight</span> &lt; <span class="var type1" id="S22T4U128">zPMid1</span></span> &amp;&amp; <span class="mxinfo " id="T1:U102"><span class="var type1" id="S5T4U130">panHeight</span> &gt;= <span class="var type1" id="S23T4U131">zPMid2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="95,36" id="srcline36">36</a></span><span class="line">        <span class="mxinfo " id="T4:U105"><span class="var type1" id="S24T4U134">xMax</span> = <span class="mxinfo " id="T4:U107"><span class="fcn" id="F218N18:B136">getXStar</span>(<span class="var type1" id="S5T4U137">panHeight</span>,<span class="var type1" id="S16T4U138">gammaMin</span>,<span class="mxinfo " id="T1:U110">false</span>,<span class="var type1" id="S9T6U141">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,37" id="srcline37">37</a></span><span class="line">        <span class="mxinfo " id="T4:U112"><span class="var type1" id="S27T4U144">xMin</span> = <span class="mxinfo " id="T4:U114"><span class="fcn" id="F218N18:B146">getXStar</span>(<span class="var type1" id="S5T4U147">panHeight</span>,<span class="var type1" id="S17T4U148">gammaMax</span>,<span class="mxinfo " id="T1:U117">false</span>,<span class="var type1" id="S9T6U151">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,38" id="srcline38">38</a></span><span class="line">    <span class="keyword">elseif</span>  <span class="mxinfo " id="T1:U119"><span class="var type1" id="S5T4U155">panHeight</span> &lt; <span class="var type1" id="S23T4U156">zPMid2</span></span> &amp;&amp; <span class="mxinfo " id="T1:U122"><span class="var type1" id="S5T4U158">panHeight</span> &gt;= <span class="var type1" id="S21T4U159">zPMin</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="95,39" id="srcline39">39</a></span><span class="line">        <span class="mxinfo " id="T4:U125"><span class="var type1" id="S24T4U162">xMax</span> = <span class="mxinfo " id="T4:U127"><span class="fcn" id="F218N18:B164">getXStar</span>(<span class="var type1" id="S5T4U165">panHeight</span>,<span class="var type1" id="S15T4U166">betaMax</span>,<span class="mxinfo " id="T1:U130">true</span>,<span class="var type1" id="S9T6U169">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,40" id="srcline40">40</a></span><span class="line">        <span class="mxinfo " id="T4:U132"><span class="var type1" id="S27T4U172">xMin</span> = <span class="mxinfo " id="T4:U134"><span class="fcn" id="F218N18:B174">getXStar</span>(<span class="var type1" id="S5T4U175">panHeight</span>,<span class="var type1" id="S17T4U176">gammaMax</span>,<span class="mxinfo " id="T1:U137">false</span>,<span class="var type1" id="S9T6U179">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,41" id="srcline41">41</a></span><span class="line">    <span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,42" id="srcline42">42</a></span><span class="line">        <span class="mxinfo " id="T4:U139"><span class="var type1" id="S24T4U183">xMax</span> = <span class="mxinfo " id="T4:U141">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,43" id="srcline43">43</a></span><span class="line">        <span class="mxinfo " id="T4:U142"><span class="var type1" id="S27T4U187">xMin</span> = <span class="mxinfo " id="T4:U144">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,44" id="srcline44">44</a></span><span class="line">        <span class="mxinfo " id="T43:U145"><span class="autoExtrinsicFcn" id="F377N11:B191">disp</span>(<span class="mxinfo " id="T70:U146"><span class="string">'z is out of range'</span></span>)</span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,45" id="srcline45">45</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,46" id="srcline46">46</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,47" id="srcline47">47</a></span><span class="line">    <span class="mxinfo " id="T4:U147"><span class="var type1" id="S30T4U195">xRand</span> = <span class="mxinfo " id="T4:U149"><span class="var type1" id="S27T4U197">xMin</span> + <span class="mxinfo " id="T4:U151">(<span class="mxinfo " id="T4:U152"><span class="var type1" id="S24T4U201">xMax</span>-<span class="var type1" id="S27T4U202">xMin</span></span>)*<span class="mxinfo " id="T4:U155">rand</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,48" id="srcline48">48</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,49" id="srcline49">49</a></span><span class="line">    <span class="mxinfo " id="T8:U156"><span class="var type1" id="S32T8U207">u</span>  = <span class="mxinfo " id="T8:U158">[<span class="var type1" id="S30T4U210">xRand</span> <span class="mxinfo " id="T4:U160">0</span> <span class="var type1" id="S5T4U212">panHeight</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,50" id="srcline50">50</a></span><span class="line">    <span class="mxinfo " id="T8:U162"><span class="var type1" id="S33T8U215">q</span> = <span class="mxinfo " id="T8:U164"><span class="fcn" id="F221N33:B217">sherpaTTIK</span>(<span class="var type1" id="S32T8U218">u</span>,<span class="var type1" id="S9T6U219">kC</span>,<span class="var type1" id="S3T5U220">jointLimits</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,51" id="srcline51">51</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,52" id="srcline52">52</a></span><span class="line">    <span class="mxinfo " id="T4:U168"><span class="var type1" id="S35T4U223">alphaRand</span> = <span class="mxinfo " id="T4:U170"><span class="var type1" id="S12T4U225">alphaMin</span> + <span class="mxinfo " id="T4:U172">(<span class="mxinfo " id="T4:U173"><span class="var type1" id="S13T4U229">alphaMax</span>-<span class="var type1" id="S12T4U230">alphaMin</span></span>)*<span class="mxinfo " id="T4:U176">rand</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,53" id="srcline53">53</a></span><span class="line">    <span class="mxinfo " id="T4:U177"><span class="var type1" id="S36T4U235">betaRand</span> = <span class="mxinfo " id="T4:U179"><span class="var type1" id="S33T8U237">q</span>(<span class="mxinfo " id="T4:U181">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,54" id="srcline54">54</a></span><span class="line">    <span class="mxinfo " id="T4:U182"><span class="var type1" id="S37T4U241">gammaRand</span> = <span class="mxinfo " id="T4:U184"><span class="var type1" id="S33T8U243">q</span>(<span class="mxinfo " id="T4:U186">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,55" id="srcline55">55</a></span><span class="line">    <span class="mxinfo " id="T4:U187"><span class="var type1" id="S38T4U247">phiRand</span> = <span class="mxinfo " id="T4:U189"><span class="var type1" id="S18T4U249">phiMin</span> + <span class="mxinfo " id="T4:U191">(<span class="mxinfo " id="T4:U192"><span class="var type1" id="S19T4U253">phiMax</span>-<span class="var type1" id="S18T4U254">phiMin</span></span>)*<span class="mxinfo " id="T4:U195">rand</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,56" id="srcline56">56</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,57" id="srcline57">57</a></span><span class="line">    <span class="mxinfo " id="T51:U196"><span class="var type1" id="S2T51U259">sRand</span> = <span class="mxinfo " id="T51:U198"><span class="fcn" id="F222N24:B261">makeState</span>(0,0,0,<span class="var type1" id="S35T4U265">alphaRand</span>,<span class="var type1" id="S36T4U266">betaRand</span>,<span class="var type1" id="S37T4U267">gammaRand</span>,0,0,0,<span class="var type1" id="S38T4U271">phiRand</span>,0,<span class="var type1" id="S10T4U273">dt</span>,<span class="var type1" id="S11T4U274">Dt</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,58" id="srcline58">58</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="95,59" id="srcline59">59</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T1:U205"><span class="mxinfo " id="T9:U206">mod(<span class="var type1" id="S7T4U280">nodeIDCount</span>,<span class="mxinfo " id="T9:U208"><span class="var type1" id="S8T9U281">goalSeedFreq</span></span>)</span> == <span class="mxinfo " id="T4:U210">0</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="95,60" id="srcline60">60</a></span><span class="line">        <span class="mxinfo " id="T51:U211"><span class="var type1" id="S2T51U285">sRand</span> = <span class="var type1" id="S6T51U286">sGoal</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="95,61" id="srcline61">61</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,62" id="srcline62">62</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="95,63" id="srcline63">63</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="95,64" id="srcline64">64</a></span><span class="line"></span></span>
</pre>

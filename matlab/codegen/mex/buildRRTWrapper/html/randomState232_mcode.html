<pre class="code">
<span class="srcline"><span class="lineno"><a href="89,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%randomState.m</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%author: wreid</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%date: 20150107</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T63U3">xRand</span> = randomState(<span class="var type1" id="S3T19U6">range</span>,<span class="var type1" id="S4T19U7">MIN</span>,<span class="var type1" id="S5T5U8">kC</span>,<span class="var type1" id="S6T4U9">panHeight</span>,<span class="var type1" id="S7T46U10">xGoal</span>,<span class="var type1" id="S8T4U11">nodeIDCount</span>,<span class="var type1" id="S9T7U12">goalSeedFreq</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="89,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%randomState Picks a random state from the state space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%   A random state is selected from the state space within the boundaries of</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,8" id="srcline8"> 8</a></span><span class="line"><span class="comment">%   the state space as defined by the MIN and MAX vectors. The state space has</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,9" id="srcline9"> 9</a></span><span class="line"><span class="comment">%   a dimension n.</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,10" id="srcline10">10</a></span><span class="line"><span class="comment">%   Inputs:</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,11" id="srcline11">11</a></span><span class="line"><span class="comment">%       MIN:    The 1xn vector containing the minimum boundaries for the state</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,12" id="srcline12">12</a></span><span class="line"><span class="comment">%               space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,13" id="srcline13">13</a></span><span class="line"><span class="comment">%       MAX:    The 1xn vector containing the maximum boundaries for the state</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,14" id="srcline14">14</a></span><span class="line"><span class="comment">%               space.</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,15" id="srcline15">15</a></span><span class="line"><span class="comment">%   Outputs:</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,16" id="srcline16">16</a></span><span class="line"><span class="comment">%       xRand:  The 1xn vector describing the selected random state.</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,17" id="srcline17">17</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,18" id="srcline18">18</a></span><span class="line">    <span class="comment">%[~,L2,L3,L4,L5,L6,L7,L8,zeta,~,~,~,~,~,~,~] = extractKinematicConstants(kinematicConst);</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,19" id="srcline19">19</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="89,20" id="srcline20">20</a></span><span class="line">    <span class="mxinfo " id="T4:U9"><span class="var type1" id="S10T4U15">phi</span> = <span class="mxinfo " id="T4:U11">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,21" id="srcline21">21</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,22" id="srcline22">22</a></span><span class="line">    <span class="mxinfo " id="T1:U12"><span class="var type1" id="S11T1U19">success</span> = <span class="mxinfo " id="T1:U14">false</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,23" id="srcline23">23</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,24" id="srcline24">24</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,25" id="srcline25">25</a></span><span class="line">    <span class="mxinfo " id="T4:U15"><span class="var type1" id="S13T4U24">alphaRand</span> = <span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18"><span class="mxinfo " id="T4:U19"><span class="var type1" id="S3T19U28">range</span>(<span class="mxinfo " id="T4:U21">1</span>)</span>*<span class="mxinfo " id="T4:U22">rand</span></span>+<span class="mxinfo " id="T4:U23"><span class="var type1" id="S4T19U33">MIN</span>(<span class="mxinfo " id="T4:U25">1</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,26" id="srcline26">26</a></span><span class="line">    <span class="mxinfo " id="T4:U26"><span class="var type1" id="S15T4U37">gammaRand</span> = <span class="mxinfo " id="T4:U28"><span class="mxinfo " id="T4:U29"><span class="mxinfo " id="T4:U30"><span class="var type1" id="S3T19U41">range</span>(<span class="mxinfo " id="T4:U32">2</span>)</span>*<span class="mxinfo " id="T4:U33">rand</span></span>+<span class="mxinfo " id="T4:U34"><span class="var type1" id="S4T19U46">MIN</span>(<span class="mxinfo " id="T4:U36">2</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,27" id="srcline27">27</a></span><span class="line">    [<span class="mxinfo " id="T4:U37"><span class="var type1" id="S16T4U51">betaRand</span></span>,<span class="mxinfo " id="T4:U39"><span class="var type1" id="S17T4U52">gammaRand1</span></span>] = <span class="fcn" id="F212N13:B54">getConstrainedBeta</span>(<span class="var type1" id="S6T4U55">panHeight</span>,<span class="var type1" id="S15T4U56">gammaRand</span>,<span class="var type1" id="S5T5U57">kC</span>,<span class="var type1" id="S3T19U58">range</span>,<span class="mxinfo " id="T4:U45"><span class="var type1" id="S4T19U60">MIN</span>(<span class="mxinfo " id="T4:U47">2</span>)</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="89,28" id="srcline28">28</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,29" id="srcline29">29</a></span><span class="line">    <span class="mxinfo " id="T4:U48"><span class="var type1" id="S19T4U64">KVel</span> = <span class="mxinfo " id="T4:U50">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,30" id="srcline30">30</a></span><span class="line">    <span class="comment">%alphaDotRand = range(4)*rand+MIN(4);</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,31" id="srcline31">31</a></span><span class="line">    <span class="comment">%gammaDotRand = range(5)*rand+MIN(5);</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,32" id="srcline32">32</a></span><span class="line">    <span class="comment">%betaDotRand = -(1.0*(1.827e47*KVel + 2.238e31*kC.l2*alphaDotRand - 2.238e31*kC.l6*alphaDotRand - 1.827e47*kC.l6*gammaDotRand + 2.238e31*kC.l3*alphaDotRand*cos(betaRand) + 1.827e47*kC.l3*gammaDotRand*cos(betaRand) - 2.238e31*kC.l2*alphaDotRand*cos(phi) + 2.238e31*kC.l6*alphaDotRand*cos(phi) - 1.37e15*kC.l6*gammaDotRand*cos(phi) + 2.238e31*kC.l4*alphaDotRand*cos(kC.zeta) + 1.827e47*kC.l4*gammaDotRand*cos(kC.zeta) + 2.74e15*kC.l7*alphaDotRand*sin(phi) + 2.74e15*kC.l8*alphaDotRand*sin(phi) + 2.238e31*kC.l7*gammaDotRand*sin(phi) + 2.238e31*kC.l8*gammaDotRand*sin(phi) - 2.237e31*kC.l3*alphaDotRand*cos(betaRand)*cos(phi) + 2.238e31*kC.l5*alphaDotRand*cos(gammaRand)*cos(kC.zeta) + 1.827e47*kC.l5*gammaDotRand*cos(gammaRand)*cos(kC.zeta) - 2.237e31*kC.l4*alphaDotRand*cos(phi)*cos(kC.zeta) + 2.237e31*kC.l3*gammaDotRand*sin(betaRand)*sin(phi) - 2.238e31*kC.l5*alphaDotRand*sin(gammaRand)*sin(kC.zeta) - 1.827e47*kC.l5*gammaDotRand*sin(gammaRand)*sin(kC.zeta) + 2.237e31*kC.l4*gammaDotRand*sin(phi)*sin(kC.zeta) - 2.237e31*kC.l5*alphaDotRand*cos(gammaRand)*cos(phi)*cos(kC.zeta) + 2.237e31*kC.l5*alphaDotRand*cos(phi)*sin(gammaRand)*sin(kC.zeta) + 2.237e31*kC.l5*gammaDotRand*cos(gammaRand)*sin(phi)*sin(kC.zeta) + 2.237e31*kC.l5*gammaDotRand*sin(gammaRand)*cos(kC.zeta)*sin(phi)))/(1.827e47*kC.l4*cos(kC.zeta) - 1.37e15*kC.l6*cos(phi) - 1.827e47*kC.l6 + 2.238e31*kC.l7*sin(phi) + 2.238e31*kC.l8*sin(phi) + 1.827e47*kC.l5*cos(gammaRand)*cos(kC.zeta) - 1.827e47*kC.l5*sin(gammaRand)*sin(kC.zeta) + 2.237e31*kC.l4*sin(phi)*sin(kC.zeta) + 2.237e31*kC.l5*cos(gammaRand)*sin(phi)*sin(kC.zeta) + 2.237e31*kC.l5*sin(gammaRand)*cos(kC.zeta)*sin(phi));</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,33" id="srcline33">33</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="89,34" id="srcline34">34</a></span><span class="line">    <span class="mxinfo " id="T63:U51"><span class="var type1" id="S2T63U68">xRand</span> = <span class="mxinfo " id="T74:U53">[<span class="mxinfo " id="T45:U54">zeros(<span class="mxinfo " id="T4:U55">1</span>,<span class="mxinfo " id="T4:U56">3</span>)</span> <span class="var type1" id="S13T4U75">alphaRand</span> <span class="var type1" id="S17T4U76">gammaRand1</span> <span class="var type1" id="S16T4U77">betaRand</span> <span class="mxinfo " id="T4:U60">0</span> <span class="mxinfo " id="T4:U61">0</span> <span class="mxinfo " id="T4:U62">0</span>]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,35" id="srcline35">35</a></span><span class="line">    <span class="keyword">if</span> <span class="mxinfo " id="T1:U63"><span class="mxinfo " id="T7:U64">mod(<span class="var type1" id="S8T4U86">nodeIDCount</span>,<span class="mxinfo " id="T7:U66"><span class="var type1" id="S9T7U87">goalSeedFreq</span></span>)</span> == <span class="mxinfo " id="T4:U68">0</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="89,36" id="srcline36">36</a></span><span class="line">        <span class="mxinfo " id="T63:U69"><span class="var type1" id="S2T63U91">xRand</span> = <span class="var type1" id="S7T46U92">xGoal</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="89,37" id="srcline37">37</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,38" id="srcline38">38</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="89,39" id="srcline39">39</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="89,40" id="srcline40">40</a></span><span class="line"></span></span>
</pre>

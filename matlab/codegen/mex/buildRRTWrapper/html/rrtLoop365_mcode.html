<pre class="code">
<span class="srcline"><span class="lineno"><a href="119,50" id="srcline50">50</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="119,51" id="srcline51">51</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S38T52U238">T</span>,<span class="var type1" id="S39T4U239">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T52:U3"><span class="mxinfo " id="T52:U4"><span class="var type1" id="S38T52U242">T</span></span></span>,<span class="var type1" id="S40T5U243">jointLimits</span>,<span class="var type1" id="S41T7U244">cartesianLimits</span>,<span class="var type1" id="S42T6U245">kC</span>,<span class="var type1" id="S43T4U246">panHeight</span>,<span class="var type1" id="S44T47U247">U</span>,<span class="var type1" id="S45T4U248">Dt</span>,<span class="var type1" id="S46T4U249">dt</span>,<span class="var type1" id="S47T9U250">NODE_SIZE</span>,<span class="var type1" id="S48T9U251">U_SIZE</span>,<span class="var type1" id="S49T8U252">HGAINS</span>,<span class="var type1" id="S50T4U253">ankleThreshold</span>,<span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18"><span class="var type1" id="S39T4U254">nodeIDCount</span></span></span>,<span class="var type1" id="S51T51U255">sGoal</span>,<span class="var type1" id="S52T9U256">goalSeedFreq</span>,<span class="var type1" id="S53T48U257">uBDot</span>,<span class="var type1" id="S54T9U258">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="119,52" id="srcline52">52</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="119,53" id="srcline53">53</a></span><span class="line">    <span class="mxinfo " id="T51:U24"><span class="var type1" id="S55T51U261">sRand</span> = <span class="mxinfo " id="T51:U26"><span class="fcn" id="F242N27:B263">randomState</span>(<span class="var type1" id="S40T5U264">jointLimits</span>,<span class="var type1" id="S41T7U265">cartesianLimits</span>,<span class="var type1" id="S43T4U266">panHeight</span>,<span class="var type1" id="S51T51U267">sGoal</span>,<span class="var type1" id="S39T4U268">nodeIDCount</span>,<span class="mxinfo " id="T9:U32"><span class="var type1" id="S52T9U269">goalSeedFreq</span></span>,<span class="var type1" id="S42T6U270">kC</span>,<span class="var type1" id="S46T4U271">dt</span>,<span class="var type1" id="S45T4U272">Dt</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="119,54" id="srcline54">54</a></span><span class="line">    [<span class="mxinfo " id="T51:U37"><span class="var type1" id="S57T51U276">sNear</span></span>,<span class="mxinfo " id="T4:U39"><span class="var type1" id="S58T4U277">d</span></span>] = <span class="fcn" id="F266N26:B279">nearestNeighbour</span>(<span class="var type1" id="S55T51U280">sRand</span>,<span class="var type1" id="S38T52U281">T</span>,<span class="var type1" id="S49T8U282">HGAINS</span>,<span class="var type1" id="S40T5U283">jointLimits</span>,<span class="var type1" id="S42T6U284">kC</span>,<span class="var type1" id="S39T4U285">nodeIDCount</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="119,55" id="srcline55">55</a></span><span class="line">    <span class="mxinfo " id="T51:U47"><span class="var type1" id="S60T51U288">sNew</span>  = <span class="mxinfo " id="T51:U49"><span class="fcn" id="F364N30:B290">selectInput</span>(<span class="var type1" id="S57T51U291">sNear</span>,<span class="var type1" id="S55T51U292">sRand</span>,<span class="var type1" id="S44T47U293">U</span>,<span class="var type1" id="S46T4U294">dt</span>,<span class="var type1" id="S45T4U295">Dt</span>,<span class="mxinfo " id="T9:U55"><span class="var type1" id="S48T9U296">U_SIZE</span></span>,<span class="var type1" id="S49T8U297">HGAINS</span>,<span class="var type1" id="S42T6U298">kC</span>,<span class="mxinfo " id="T4:U59"><span class="var type1" id="S50T4U299">ankleThreshold</span></span>,<span class="var type1" id="S40T5U300">jointLimits</span>,<span class="var type1" id="S53T48U301">uBDot</span>,<span class="var type1" id="S54T9U302">legNum</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="119,56" id="srcline56">56</a></span><span class="line">    <span class="mxinfo " id="T4:U64"><span class="var type1" id="S39T4U305">nodeIDCount</span> = <span class="mxinfo " id="T4:U66"><span class="var type1" id="S39T4U307">nodeIDCount</span> + <span class="mxinfo " id="T4:U68">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="119,57" id="srcline57">57</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="119,58" id="srcline58">58</a></span><span class="line">    <span class="mxinfo " id="T4:U69"><span class="mxinfo " id="T4:U70"><span class="var type1" id="S60T51U312">sNew</span>.id</span> = <span class="var type1" id="S39T4U314">nodeIDCount</span></span>;      <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,59" id="srcline59">59</a></span><span class="line">    <span class="mxinfo " id="T4:U73"><span class="mxinfo " id="T4:U74"><span class="var type1" id="S60T51U318">sNew</span>.parentID</span> = <span class="mxinfo " id="T4:U76"><span class="var type1" id="S57T51U321">sNear</span>.id</span></span>;     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,60" id="srcline60">60</a></span><span class="line">    <span class="mxinfo " id="T4:U78"><span class="mxinfo " id="T4:U79"><span class="var type1" id="S60T51U326">sNew</span>.cost</span> = <span class="var type1" id="S58T4U328">d</span></span>;              <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,61" id="srcline61">61</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="119,62" id="srcline62">62</a></span><span class="line">    <span class="mxinfo " id="T51:U82"><span class="mxinfo " id="T51:U83"><span class="var type1" id="S38T52U332">T</span>(<span class="var type1" id="S39T4U333">nodeIDCount</span>)</span> = <span class="var type1" id="S60T51U334">sNew</span></span>;      <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="119,63" id="srcline63">63</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,64" id="srcline64">64</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,65" id="srcline65">65</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,66" id="srcline66">66</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="119,67" id="srcline67">67</a></span><span class="line"></span></span>
</pre>

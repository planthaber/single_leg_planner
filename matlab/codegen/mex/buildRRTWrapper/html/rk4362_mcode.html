<pre class="code">
<span class="srcline"><span class="lineno"><a href="105,1" id="srcline1"> 1</a></span><span class="line"><span class="comment">%rk4.m</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">%author: wreid</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,3" id="srcline3"> 3</a></span><span class="line"><span class="comment">%date: 20150107</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,4" id="srcline4"> 4</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="105,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T51U3">sNew</span> = rk4(<span class="var type1" id="S3T8U6">u</span>,<span class="var type1" id="S4T4U7">dt</span>,<span class="var type1" id="S5T4U8">Dt</span>,<span class="var type1" id="S6T51U9">sInit</span>,<span class="var type1" id="S7T5U10">jointLimits</span>,<span class="var type1" id="S8T48U11">uBDot</span>,<span class="var type1" id="S9T6U12">kC</span>,<span class="var type1" id="S10T9U13">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="105,6" id="srcline6"> 6</a></span><span class="line"><span class="comment">%rk4 Summary of this function goes here</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,7" id="srcline7"> 7</a></span><span class="line"><span class="comment">%   Detailed explanation goes here</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,8" id="srcline8"> 8</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="105,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo " id="T4:U10"><span class="var type1" id="S11T4U16">numIterations</span> = <span class="mxinfo " id="T4:U12">round(<span class="mxinfo " id="T4:U13"><span class="var type1" id="S5T4U20">Dt</span>/<span class="var type1" id="S4T4U21">dt</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,10" id="srcline10">10</a></span><span class="line">    <span class="mxinfo " id="T51:U16"><span class="var type1" id="S2T51U24">sNew</span> = <span class="mxinfo " id="T51:U18"><span class="fcn" id="F204N22:B26">makeEmptyState</span>(<span class="var type1" id="S4T4U27">dt</span>,<span class="var type1" id="S5T4U28">Dt</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,11" id="srcline11">11</a></span><span class="line">    <span class="mxinfo " id="T21:U21"><span class="var type1" id="S14T21U31">xInit</span> = <span class="mxinfo " id="T21:U23">[<span class="mxinfo " id="T4:U24"><span class="var type1" id="S6T51U36">sInit</span>.alpha</span>(end) <span class="mxinfo " id="T4:U26"><span class="var type1" id="S6T51U42">sInit</span>.beta</span>(end) <span class="mxinfo " id="T4:U28"><span class="var type1" id="S6T51U48">sInit</span>.gamma</span>(end) <span class="mxinfo " id="T4:U30"><span class="var type1" id="S6T51U54">sInit</span>.alphaDot</span>(end) <span class="mxinfo " id="T4:U32"><span class="var type1" id="S6T51U60">sInit</span>.betaDot</span>(end) <span class="mxinfo " id="T4:U34"><span class="var type1" id="S6T51U66">sInit</span>.gammaDot</span>(end)]</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,12" id="srcline12">12</a></span><span class="line">    <span class="mxinfo " id="T49:U36"><span class="var type1" id="S16T49U72">sTemp</span> = <span class="mxinfo " id="T49:U38"><span class="fcn" id="F201N23:B74">makeEmptyTransitionState</span>()</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,13" id="srcline13">13</a></span><span class="line">    <span class="keyword">for</span> <span class="var type1" id="S18T4U77">i</span> = <span class="mxinfo " id="T4:U40">1</span>:<span class="var type1" id="S11T4U80">numIterations</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,14" id="srcline14">14</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,15" id="srcline15">15</a></span><span class="line">        <span class="mxinfo " id="T21:U42"><span class="var type1" id="S19T21U83">k1</span> = <span class="mxinfo " id="T21:U44"><span class="fcn" id="F268N29:B85">f</span>(<span class="var type1" id="S14T21U86">xInit</span>,<span class="var type1" id="S3T8U87">u</span>)</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="105,16" id="srcline16">16</a></span><span class="line">        <span class="mxinfo " id="T21:U47"><span class="var type1" id="S21T21U90">k2</span> = <span class="mxinfo " id="T21:U49"><span class="fcn" id="F268N29:B92">f</span>(<span class="mxinfo " id="T21:U50"><span class="var type1" id="S14T21U94">xInit</span>+<span class="mxinfo " id="T21:U52"><span class="mxinfo " id="T4:U53"><span class="var type1" id="S4T4U97">dt</span>/<span class="mxinfo " id="T4:U55">2</span></span>*<span class="var type1" id="S19T21U99">k1</span></span></span>,<span class="var type1" id="S3T8U100">u</span>)</span></span>;    </span></span>
<span class="srcline"><span class="lineno"><a href="105,17" id="srcline17">17</a></span><span class="line">        <span class="mxinfo " id="T21:U58"><span class="var type1" id="S22T21U103">k3</span> = <span class="mxinfo " id="T21:U60"><span class="fcn" id="F268N29:B105">f</span>(<span class="mxinfo " id="T21:U61"><span class="var type1" id="S14T21U107">xInit</span>+<span class="mxinfo " id="T21:U63"><span class="mxinfo " id="T4:U64"><span class="var type1" id="S4T4U110">dt</span>/<span class="mxinfo " id="T4:U66">2</span></span>*<span class="var type1" id="S21T21U112">k2</span></span></span>,<span class="var type1" id="S3T8U113">u</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,18" id="srcline18">18</a></span><span class="line">        <span class="mxinfo " id="T21:U69"><span class="var type1" id="S23T21U116">k4</span> = <span class="mxinfo " id="T21:U71"><span class="fcn" id="F268N29:B118">f</span>(<span class="mxinfo " id="T21:U72"><span class="var type1" id="S14T21U120">xInit</span>+<span class="mxinfo " id="T21:U74"><span class="mxinfo " id="T4:U75"><span class="var type1" id="S4T4U123">dt</span>/<span class="mxinfo " id="T4:U77">2</span></span>*<span class="var type1" id="S22T21U125">k3</span></span></span>,<span class="var type1" id="S3T8U126">u</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,19" id="srcline19">19</a></span><span class="line">        <span class="mxinfo " id="T21:U80"><span class="var type1" id="S24T21U129">xNew</span> = <span class="mxinfo " id="T21:U82"><span class="var type1" id="S14T21U131">xInit</span> + <span class="mxinfo " id="T21:U84"><span class="mxinfo " id="T4:U85"><span class="var type1" id="S4T4U134">dt</span>/<span class="mxinfo " id="T4:U87">6</span></span>*(<span class="mxinfo " id="T21:U88"><span class="mxinfo " id="T21:U89"><span class="mxinfo " id="T21:U90"><span class="var type1" id="S19T21U140">k1</span> + <span class="mxinfo " id="T21:U92"><span class="mxinfo " id="T4:U93">2</span>*<span class="var type1" id="S21T21U143">k2</span></span></span> + <span class="mxinfo " id="T21:U95"><span class="mxinfo " id="T4:U96">2</span>*<span class="var type1" id="S22T21U146">k3</span></span></span> + <span class="var type1" id="S23T21U147">k4</span></span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,20" id="srcline20">20</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,21" id="srcline21">21</a></span><span class="line">        <span class="comment">%Check pan angular position limits</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,22" id="srcline22">22</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T1:U99"><span class="mxinfo " id="T4:U100"><span class="var type1" id="S24T21U153">xNew</span>(<span class="mxinfo " id="T4:U102">1</span>)</span> &gt; <span class="mxinfo " id="T4:U103"><span class="var type1" id="S7T5U156">jointLimits</span>(<span class="mxinfo " id="T4:U105">2</span>,<span class="mxinfo " id="T4:U106">1</span>)</span></span> || <span class="mxinfo " id="T1:U107"><span class="mxinfo " id="T4:U108"><span class="var type1" id="S24T21U161">xNew</span>(<span class="mxinfo " id="T4:U110">1</span>)</span> &lt; <span class="mxinfo " id="T4:U111"><span class="var type1" id="S7T5U164">jointLimits</span>(<span class="mxinfo " id="T4:U113">1</span>,<span class="mxinfo " id="T4:U114">1</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="105,23" id="srcline23">23</a></span><span class="line">            <span class="mxinfo " id="T4:U115"><span class="mxinfo " id="T4:U116"><span class="var type1" id="S24T21U170">xNew</span>(<span class="mxinfo " id="T4:U118">1</span>)</span> = <span class="mxinfo " id="T4:U119"><span class="var type1" id="S14T21U173">xInit</span>(<span class="mxinfo " id="T4:U121">1</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,24" id="srcline24">24</a></span><span class="line">            <span class="mxinfo " id="T4:U122"><span class="mxinfo " id="T4:U123"><span class="var type1" id="S24T21U178">xNew</span>(<span class="mxinfo " id="T4:U125">4</span>)</span> = <span class="mxinfo " id="T4:U126">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,25" id="srcline25">25</a></span><span class="line">            <span class="mxinfo " id="T4:U127"><span class="mxinfo " id="T4:U128"><span class="var type1" id="S3T8U184">u</span>(<span class="mxinfo " id="T4:U130">1</span>)</span> = <span class="mxinfo " id="T4:U131">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,26" id="srcline26">26</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,27" id="srcline27">27</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,28" id="srcline28">28</a></span><span class="line">         <span class="comment">%Check inner and outer leg angular position limits</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,29" id="srcline29">29</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T1:U132"><span class="mxinfo " id="T4:U133"><span class="var type1" id="S24T21U194">xNew</span>(<span class="mxinfo " id="T4:U135">2</span>)</span> &gt; <span class="mxinfo " id="T4:U136"><span class="var type1" id="S7T5U197">jointLimits</span>(<span class="mxinfo " id="T4:U138">2</span>,<span class="mxinfo " id="T4:U139">2</span>)</span></span> || <span class="mxinfo " id="T1:U140"><span class="mxinfo " id="T4:U141"><span class="var type1" id="S24T21U202">xNew</span>(<span class="mxinfo " id="T4:U143">2</span>)</span> &lt; <span class="mxinfo " id="T4:U144"><span class="var type1" id="S7T5U205">jointLimits</span>(<span class="mxinfo " id="T4:U146">1</span>,<span class="mxinfo " id="T4:U147">2</span>)</span></span> || <span class="mxinfo " id="T1:U148"><span class="mxinfo " id="T4:U149"><span class="var type1" id="S24T21U210">xNew</span>(<span class="mxinfo " id="T4:U151">3</span>)</span> &gt; <span class="mxinfo " id="T4:U152"><span class="var type1" id="S7T5U213">jointLimits</span>(<span class="mxinfo " id="T4:U154">2</span>,<span class="mxinfo " id="T4:U155">3</span>)</span></span> || <span class="mxinfo " id="T1:U156"><span class="mxinfo " id="T4:U157"><span class="var type1" id="S24T21U218">xNew</span>(<span class="mxinfo " id="T4:U159">3</span>)</span> &lt; <span class="mxinfo " id="T4:U160"><span class="var type1" id="S7T5U221">jointLimits</span>(<span class="mxinfo " id="T4:U162">1</span>,<span class="mxinfo " id="T4:U163">3</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="105,30" id="srcline30">30</a></span><span class="line">            <span class="mxinfo " id="T4:U164"><span class="mxinfo " id="T4:U165"><span class="var type1" id="S24T21U227">xNew</span>(<span class="mxinfo " id="T4:U167">2</span>)</span> = <span class="mxinfo " id="T4:U168"><span class="var type1" id="S14T21U230">xInit</span>(<span class="mxinfo " id="T4:U170">2</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,31" id="srcline31">31</a></span><span class="line">            <span class="mxinfo " id="T4:U171"><span class="mxinfo " id="T4:U172"><span class="var type1" id="S24T21U235">xNew</span>(<span class="mxinfo " id="T4:U174">3</span>)</span> = <span class="mxinfo " id="T4:U175"><span class="var type1" id="S14T21U238">xInit</span>(<span class="mxinfo " id="T4:U177">3</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,32" id="srcline32">32</a></span><span class="line">            <span class="mxinfo " id="T4:U178"><span class="mxinfo " id="T4:U179"><span class="var type1" id="S24T21U243">xNew</span>(<span class="mxinfo " id="T4:U181">5</span>)</span> = <span class="mxinfo " id="T4:U182">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,33" id="srcline33">33</a></span><span class="line">            <span class="mxinfo " id="T4:U183"><span class="mxinfo " id="T4:U184"><span class="var type1" id="S24T21U249">xNew</span>(<span class="mxinfo " id="T4:U186">6</span>)</span> = <span class="mxinfo " id="T4:U187">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,34" id="srcline34">34</a></span><span class="line">            <span class="mxinfo " id="T4:U188"><span class="mxinfo " id="T4:U189"><span class="var type1" id="S3T8U255">u</span>(<span class="mxinfo " id="T4:U191">2</span>)</span> = <span class="mxinfo " id="T4:U192">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,35" id="srcline35">35</a></span><span class="line">            <span class="mxinfo " id="T4:U193"><span class="mxinfo " id="T4:U194"><span class="var type1" id="S3T8U261">u</span>(<span class="mxinfo " id="T4:U196">3</span>)</span> = <span class="mxinfo " id="T4:U197">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,36" id="srcline36">36</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,37" id="srcline37">37</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,38" id="srcline38">38</a></span><span class="line">        <span class="comment">%Check pan angular velocity limits</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,39" id="srcline39">39</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T1:U198"><span class="mxinfo " id="T4:U199"><span class="var type1" id="S24T21U269">xNew</span>(<span class="mxinfo " id="T4:U201">4</span>)</span> &gt; <span class="mxinfo " id="T4:U202"><span class="var type1" id="S7T5U272">jointLimits</span>(<span class="mxinfo " id="T4:U204">2</span>,<span class="mxinfo " id="T4:U205">4</span>)</span></span> || <span class="mxinfo " id="T1:U206"><span class="mxinfo " id="T4:U207"><span class="var type1" id="S24T21U277">xNew</span>(<span class="mxinfo " id="T4:U209">4</span>)</span> &lt; <span class="mxinfo " id="T4:U210"><span class="var type1" id="S7T5U280">jointLimits</span>(<span class="mxinfo " id="T4:U212">1</span>,<span class="mxinfo " id="T4:U213">4</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="105,40" id="srcline40">40</a></span><span class="line">            <span class="mxinfo " id="T4:U214"><span class="mxinfo " id="T4:U215"><span class="var type1" id="S24T21U286">xNew</span>(<span class="mxinfo " id="T4:U217">4</span>)</span> = <span class="mxinfo " id="T4:U218"><span class="var type1" id="S14T21U289">xInit</span>(<span class="mxinfo " id="T4:U220">4</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,41" id="srcline41">41</a></span><span class="line">            <span class="mxinfo " id="T4:U221"><span class="mxinfo " id="T4:U222"><span class="var type1" id="S3T8U294">u</span>(<span class="mxinfo " id="T4:U224">1</span>)</span> = <span class="mxinfo " id="T4:U225">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,42" id="srcline42">42</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,43" id="srcline43">43</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,44" id="srcline44">44</a></span><span class="line">        <span class="comment">%Check inner and outer leg angular velocity limits</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,45" id="srcline45">45</a></span><span class="line">        <span class="keyword">if</span> <span class="mxinfo " id="T1:U226"><span class="mxinfo " id="T4:U227"><span class="var type1" id="S24T21U304">xNew</span>(<span class="mxinfo " id="T4:U229">5</span>)</span> &gt; <span class="mxinfo " id="T4:U230"><span class="var type1" id="S7T5U307">jointLimits</span>(<span class="mxinfo " id="T4:U232">2</span>,<span class="mxinfo " id="T4:U233">5</span>)</span></span> || <span class="mxinfo " id="T1:U234"><span class="mxinfo " id="T4:U235"><span class="var type1" id="S24T21U312">xNew</span>(<span class="mxinfo " id="T4:U237">5</span>)</span> &lt; <span class="mxinfo " id="T4:U238"><span class="var type1" id="S7T5U315">jointLimits</span>(<span class="mxinfo " id="T4:U240">1</span>,<span class="mxinfo " id="T4:U241">5</span>)</span></span> || <span class="mxinfo " id="T1:U242"><span class="mxinfo " id="T4:U243"><span class="var type1" id="S24T21U320">xNew</span>(<span class="mxinfo " id="T4:U245">6</span>)</span> &gt; <span class="mxinfo " id="T4:U246"><span class="var type1" id="S7T5U323">jointLimits</span>(<span class="mxinfo " id="T4:U248">2</span>,<span class="mxinfo " id="T4:U249">6</span>)</span></span> || <span class="mxinfo " id="T1:U250"><span class="mxinfo " id="T4:U251"><span class="var type1" id="S24T21U328">xNew</span>(<span class="mxinfo " id="T4:U253">6</span>)</span> &lt; <span class="mxinfo " id="T4:U254"><span class="var type1" id="S7T5U331">jointLimits</span>(<span class="mxinfo " id="T4:U256">1</span>,<span class="mxinfo " id="T4:U257">6</span>)</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="105,46" id="srcline46">46</a></span><span class="line">            <span class="mxinfo " id="T4:U258"><span class="mxinfo " id="T4:U259"><span class="var type1" id="S24T21U337">xNew</span>(<span class="mxinfo " id="T4:U261">5</span>)</span> = <span class="mxinfo " id="T4:U262"><span class="var type1" id="S14T21U340">xInit</span>(<span class="mxinfo " id="T4:U264">5</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,47" id="srcline47">47</a></span><span class="line">            <span class="mxinfo " id="T4:U265"><span class="mxinfo " id="T4:U266"><span class="var type1" id="S24T21U345">xNew</span>(<span class="mxinfo " id="T4:U268">6</span>)</span> = <span class="mxinfo " id="T4:U269"><span class="var type1" id="S14T21U348">xInit</span>(<span class="mxinfo " id="T4:U271">6</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,48" id="srcline48">48</a></span><span class="line">            <span class="mxinfo " id="T4:U272"><span class="mxinfo " id="T4:U273"><span class="var type1" id="S3T8U353">u</span>(<span class="mxinfo " id="T4:U275">2</span>)</span> = <span class="mxinfo " id="T4:U276">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,49" id="srcline49">49</a></span><span class="line">            <span class="mxinfo " id="T4:U277"><span class="mxinfo " id="T4:U278"><span class="var type1" id="S3T8U359">u</span>(<span class="mxinfo " id="T4:U280">3</span>)</span> = <span class="mxinfo " id="T4:U281">0</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,50" id="srcline50">50</a></span><span class="line">        <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,51" id="srcline51">51</a></span><span class="line">        </span></span>
<span class="srcline"><span class="lineno"><a href="105,52" id="srcline52">52</a></span><span class="line">        <span class="mxinfo " id="T21:U282"><span class="var type1" id="S14T21U364">xInit</span> = <span class="var type1" id="S24T21U365">xNew</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,53" id="srcline53">53</a></span><span class="line">        <span class="mxinfo " id="T49:U285"><span class="var type1" id="S16T49U368">sTemp</span> = <span class="mxinfo " id="T49:U287"><span class="fcn" id="F200N25:B370">makeTransitionState</span>(<span class="mxinfo " id="T4:U288">0</span>,<span class="mxinfo " id="T4:U289">0</span>,<span class="mxinfo " id="T4:U290">0</span>,<span class="mxinfo " id="T4:U291"><span class="var type1" id="S24T21U375">xNew</span>(<span class="mxinfo " id="T4:U293">1</span>)</span>,<span class="mxinfo " id="T4:U294"><span class="var type1" id="S24T21U378">xNew</span>(<span class="mxinfo " id="T4:U296">2</span>)</span>,<span class="mxinfo " id="T4:U297"><span class="var type1" id="S24T21U381">xNew</span>(<span class="mxinfo " id="T4:U299">3</span>)</span>,<span class="mxinfo " id="T4:U300"><span class="var type1" id="S24T21U384">xNew</span>(<span class="mxinfo " id="T4:U302">4</span>)</span>,<span class="mxinfo " id="T4:U303"><span class="var type1" id="S24T21U387">xNew</span>(<span class="mxinfo " id="T4:U305">5</span>)</span>,<span class="mxinfo " id="T4:U306"><span class="var type1" id="S24T21U390">xNew</span>(<span class="mxinfo " id="T4:U308">6</span>)</span>,<span class="mxinfo " id="T4:U309">0</span>,<span class="mxinfo " id="T4:U310">0</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,54" id="srcline54">54</a></span><span class="line">        <span class="mxinfo " id="T49:U311"><span class="var type1" id="S16T49U396">sTemp</span> = <span class="mxinfo " id="T49:U313"><span class="fcn" id="F361N17:B398">getPhiAndOmega</span>(<span class="var type1" id="S8T48U399">uBDot</span>,<span class="var type1" id="S16T49U400">sTemp</span>,<span class="var type1" id="S9T6U401">kC</span>,<span class="var type1" id="S10T9U402">legNum</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,55" id="srcline55">55</a></span><span class="line">        <span class="mxinfo " id="T49:U318"><span class="mxinfo " id="T49:U319"><span class="mxinfo " id="T50:U320"><span class="var type1" id="S2T51U407">sNew</span>.transitionArray</span>(<span class="var type1" id="S18T4U409">i</span>)</span> = <span class="var type1" id="S16T49U410">sTemp</span></span>; </span></span>
<span class="srcline"><span class="lineno"><a href="105,56" id="srcline56">56</a></span><span class="line">    <span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,57" id="srcline57">57</a></span><span class="line">    <span class="mxinfo " id="T50:U324"><span class="var type1" id="S27T50U413">transitionArrayTemp</span> = <span class="mxinfo " id="T50:U326"><span class="var type1" id="S2T51U415">sNew</span>.transitionArray</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,58" id="srcline58">58</a></span><span class="line">    <span class="mxinfo " id="T51:U328"><span class="var type1" id="S2T51U419">sNew</span> = <span class="var type1" id="S16T49U420">sTemp</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,59" id="srcline59">59</a></span><span class="line">    <span class="mxinfo " id="T50:U331"><span class="mxinfo " id="T50:U332"><span class="var type1" id="S2T51U424">sNew</span>.transitionArray</span> = <span class="var type1" id="S27T50U426">transitionArrayTemp</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="105,60" id="srcline60">60</a></span><span class="line">     </span></span>
<span class="srcline"><span class="lineno"><a href="105,61" id="srcline61">61</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="105,62" id="srcline62">62</a></span><span class="line"></span></span>
</pre>

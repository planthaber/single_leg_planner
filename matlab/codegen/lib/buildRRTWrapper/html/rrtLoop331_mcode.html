<pre class="code">
<span class="srcline"><span class="lineno"><a href="122,59" id="srcline59">59</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,60" id="srcline60">60</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S35T64U231">T</span>,<span class="var type1" id="S36T4U232">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T64:U3"><span class="mxinfo " id="T64:U4"><span class="var type1" id="S35T64U235">T</span></span></span>,<span class="var type1" id="S37T17U236">jointRange</span>,<span class="var type1" id="S38T18U237">jointLimits</span>,<span class="var type1" id="S39T5U238">kC</span>,<span class="var type1" id="S40T4U239">panHeight</span>,<span class="var type1" id="S41T47U240">U</span>,<span class="var type1" id="S42T4U241">Dt</span>,<span class="var type1" id="S43T4U242">dt</span>,<span class="var type1" id="S44T7U243">NODE_SIZE</span>,<span class="var type1" id="S45T7U244">U_SIZE</span>,<span class="var type1" id="S46T45U245">HGAINS</span>,<span class="var type1" id="S47T4U246">ankleThreshold</span>,<span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18"><span class="var type1" id="S36T4U247">nodeIDCount</span></span></span>,<span class="var type1" id="S48T46U248">nGoal</span>,<span class="var type1" id="S49T7U249">goalSeedFreq</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="122,61" id="srcline61">61</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="122,62" id="srcline62">62</a></span><span class="line">    <span class="mxinfo " id="T68:U22"><span class="var type1" id="S50T68U252">xRand</span> = <span class="mxinfo " id="T68:U24"><span class="fcn" id="F281N21:B254">randomState</span>(<span class="var type1" id="S37T17U255">jointRange</span>,<span class="mxinfo " id="T17:U26"><span class="var type1" id="S38T18U257">jointLimits</span>(<span class="mxinfo " id="T4:U28">1</span>,:)</span>,<span class="var type1" id="S39T5U260">kC</span>,<span class="var type1" id="S40T4U261">panHeight</span>,<span class="var type1" id="S48T46U262">nGoal</span>,<span class="var type1" id="S36T4U263">nodeIDCount</span>,<span class="mxinfo " id="T7:U33"><span class="var type1" id="S49T7U264">goalSeedFreq</span></span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,63" id="srcline63">63</a></span><span class="line">    [<span class="mxinfo " id="T67:U35"><span class="var type1" id="S52T67U268">xNear</span></span>,<span class="mxinfo " id="T4:U37"><span class="mxinfo " id="T4:U38">~</span></span>,<span class="mxinfo " id="T4:U39"><span class="mxinfo " id="T4:U40">~</span></span>] = <span class="fcn" id="F304N20:B272">nearestNeighbour</span>(<span class="var type1" id="S50T68U273">xRand</span>,<span class="var type1" id="S35T64U274">T</span>,<span class="var type1" id="S46T45U275">HGAINS</span>,<span class="var type1" id="S38T18U276">jointLimits</span>,<span class="var type1" id="S39T5U277">kC</span>,<span class="var type1" id="S36T4U278">nodeIDCount</span>,<span class="mxinfo " id="T7:U47"><span class="var type1" id="S44T7U279">NODE_SIZE</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,64" id="srcline64">64</a></span><span class="line">    [<span class="mxinfo " id="T67:U49"><span class="var type1" id="S54T67U283">xNew</span></span>,<span class="mxinfo " id="T57:U51"><span class="var type1" id="S55T57U284">transitionArray</span></span>]  = <span class="fcn" id="F330N24:B286">selectInput</span>(<span class="var type1" id="S52T67U287">xNear</span>,<span class="var type1" id="S50T68U288">xRand</span>,<span class="var type1" id="S41T47U289">U</span>,<span class="var type1" id="S43T4U290">dt</span>,<span class="var type1" id="S42T4U291">Dt</span>,<span class="mxinfo " id="T7:U58"><span class="var type1" id="S44T7U292">NODE_SIZE</span></span>,<span class="mxinfo " id="T7:U60"><span class="var type1" id="S45T7U293">U_SIZE</span></span>,<span class="var type1" id="S46T45U294">HGAINS</span>,<span class="var type1" id="S39T5U295">kC</span>,<span class="mxinfo " id="T4:U64"><span class="var type1" id="S47T4U296">ankleThreshold</span></span>,<span class="var type1" id="S38T18U297">jointLimits</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="122,65" id="srcline65">65</a></span><span class="line">    <span class="mxinfo " id="T4:U67"><span class="var type1" id="S36T4U300">nodeIDCount</span> = <span class="mxinfo " id="T4:U69"><span class="var type1" id="S36T4U302">nodeIDCount</span> + <span class="mxinfo " id="T4:U71">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="122,66" id="srcline66">66</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,67" id="srcline67">67</a></span><span class="line">    <span class="mxinfo " id="T4:U72"><span class="mxinfo " id="T4:U73"><span class="var type1" id="S54T67U307">xNew</span>(<span class="mxinfo " id="T4:U75">1</span>)</span> = <span class="var type1" id="S36T4U309">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,68" id="srcline68">68</a></span><span class="line">    <span class="mxinfo " id="T4:U77"><span class="mxinfo " id="T4:U78"><span class="var type1" id="S54T67U313">xNew</span>(<span class="mxinfo " id="T4:U80">2</span>)</span> = <span class="mxinfo " id="T4:U81"><span class="var type1" id="S52T67U316">xNear</span>(<span class="mxinfo " id="T4:U83">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,69" id="srcline69">69</a></span><span class="line">    <span class="mxinfo " id="T4:U84"><span class="mxinfo " id="T4:U85"><span class="var type1" id="S54T67U321">xNew</span>(<span class="mxinfo " id="T4:U87">3</span>)</span> = <span class="mxinfo " id="T4:U88"><span class="fcn" id="F286N16:B324">heuristicSingleLeg</span>(<span class="var type1" id="S54T67U325">xNew</span>,<span class="var type1" id="S52T67U326">xNear</span>,<span class="var type1" id="S46T45U327">HGAINS</span>,<span class="var type1" id="S38T18U328">jointLimits</span>,<span class="var type1" id="S39T5U329">kC</span>)</span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,70" id="srcline70">70</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="122,71" id="srcline71">71</a></span><span class="line">    <span class="mxinfo " id="T57:U94"><span class="mxinfo " id="T57:U95"><span class="var type1" id="S35T64U333">T</span>(<span class="var type1" id="S36T4U334">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T57:U98">[<span class="var type1" id="S54T67U338">xNew</span> <span class="var type1" id="S55T57U339">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="122,72" id="srcline72">72</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,73" id="srcline73">73</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,74" id="srcline74">74</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,75" id="srcline75">75</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="122,76" id="srcline76">76</a></span><span class="line"></span></span>
</pre>

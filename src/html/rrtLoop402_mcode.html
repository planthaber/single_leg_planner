<pre class="code">
<span class="srcline"><span class="lineno"><a href="125,59" id="srcline59">59</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="125,60" id="srcline60">60</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S38T67U238">T</span>,<span class="var type1" id="S39T4U239">nodeIDCount</span>] = rrtLoop(<span class="mxinfo " id="T67:U3"><span class="mxinfo " id="T67:U4"><span class="var type1" id="S38T67U242">T</span></span></span>,<span class="var type1" id="S40T5U243">jointLimits</span>,<span class="var type1" id="S41T7U244">cartesianLimits</span>,<span class="var type1" id="S42T6U245">kC</span>,<span class="var type1" id="S43T4U246">panHeight</span>,<span class="var type1" id="S44T47U247">U</span>,<span class="var type1" id="S45T4U248">Dt</span>,<span class="var type1" id="S46T4U249">dt</span>,<span class="var type1" id="S47T9U250">NODE_SIZE</span>,<span class="var type1" id="S48T9U251">U_SIZE</span>,<span class="var type1" id="S49T8U252">HGAINS</span>,<span class="var type1" id="S50T4U253">ankleThreshold</span>,<span class="mxinfo " id="T4:U17"><span class="mxinfo " id="T4:U18"><span class="var type1" id="S39T4U254">nodeIDCount</span></span></span>,<span class="var type1" id="S51T46U255">nGoal</span>,<span class="var type1" id="S52T9U256">goalSeedFreq</span>,<span class="var type1" id="S53T48U257">uBDot</span>,<span class="var type1" id="S54T9U258">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="125,61" id="srcline61">61</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="125,62" id="srcline62">62</a></span><span class="line">    <span class="mxinfo " id="T71:U24"><span class="var type1" id="S55T71U261">xRand</span> = <span class="mxinfo " id="T71:U26"><span class="fcn" id="F283N20:B263">randomState</span>(<span class="var type1" id="S40T5U264">jointLimits</span>,<span class="var type1" id="S41T7U265">cartesianLimits</span>,<span class="var type1" id="S43T4U266">panHeight</span>,<span class="var type1" id="S51T46U267">nGoal</span>,<span class="var type1" id="S39T4U268">nodeIDCount</span>,<span class="mxinfo " id="T9:U32"><span class="var type1" id="S52T9U269">goalSeedFreq</span></span>,<span class="var type1" id="S42T6U270">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="125,63" id="srcline63">63</a></span><span class="line">    [<span class="mxinfo " id="T70:U35"><span class="var type1" id="S57T70U274">xNear</span></span>,<span class="mxinfo " id="T4:U37"><span class="mxinfo " id="T4:U38">~</span></span>,<span class="mxinfo " id="T4:U39"><span class="mxinfo " id="T4:U40">~</span></span>] = <span class="fcn" id="F306N19:B278">nearestNeighbour</span>(<span class="var type1" id="S55T71U279">xRand</span>,<span class="var type1" id="S38T67U280">T</span>,<span class="var type1" id="S49T8U281">HGAINS</span>,<span class="var type1" id="S40T5U282">jointLimits</span>,<span class="var type1" id="S42T6U283">kC</span>,<span class="var type1" id="S39T4U284">nodeIDCount</span>,<span class="mxinfo " id="T9:U47"><span class="var type1" id="S47T9U285">NODE_SIZE</span></span>);</span></span>
<span class="srcline"><span class="lineno"><a href="125,64" id="srcline64">64</a></span><span class="line">    [<span class="mxinfo " id="T70:U49"><span class="var type1" id="S59T70U289">xNew</span></span>,<span class="mxinfo " id="T58:U51"><span class="var type1" id="S60T58U290">transitionArray</span></span>]  = <span class="fcn" id="F401N23:B292">selectInput</span>(<span class="var type1" id="S57T70U293">xNear</span>,<span class="var type1" id="S55T71U294">xRand</span>,<span class="var type1" id="S44T47U295">U</span>,<span class="var type1" id="S46T4U296">dt</span>,<span class="var type1" id="S45T4U297">Dt</span>,<span class="mxinfo " id="T9:U58"><span class="var type1" id="S47T9U298">NODE_SIZE</span></span>,<span class="mxinfo " id="T9:U60"><span class="var type1" id="S48T9U299">U_SIZE</span></span>,<span class="var type1" id="S49T8U300">HGAINS</span>,<span class="var type1" id="S42T6U301">kC</span>,<span class="mxinfo " id="T4:U64"><span class="var type1" id="S50T4U302">ankleThreshold</span></span>,<span class="var type1" id="S40T5U303">jointLimits</span>,<span class="var type1" id="S53T48U304">uBDot</span>,<span class="var type1" id="S54T9U305">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="125,65" id="srcline65">65</a></span><span class="line">    <span class="mxinfo " id="T4:U69"><span class="var type1" id="S39T4U308">nodeIDCount</span> = <span class="mxinfo " id="T4:U71"><span class="var type1" id="S39T4U310">nodeIDCount</span> + <span class="mxinfo " id="T4:U73">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="125,66" id="srcline66">66</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="125,67" id="srcline67">67</a></span><span class="line">    <span class="mxinfo " id="T4:U74"><span class="mxinfo " id="T4:U75"><span class="var type1" id="S59T70U315">xNew</span>(<span class="mxinfo " id="T4:U77">1</span>)</span> = <span class="var type1" id="S39T4U317">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,68" id="srcline68">68</a></span><span class="line">    <span class="mxinfo " id="T4:U79"><span class="mxinfo " id="T4:U80"><span class="var type1" id="S59T70U321">xNew</span>(<span class="mxinfo " id="T4:U82">2</span>)</span> = <span class="mxinfo " id="T4:U83"><span class="var type1" id="S57T70U324">xNear</span>(<span class="mxinfo " id="T4:U85">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,69" id="srcline69">69</a></span><span class="line">    <span class="mxinfo " id="T4:U86"><span class="mxinfo " id="T4:U87"><span class="var type1" id="S59T70U329">xNew</span>(<span class="mxinfo " id="T4:U89">3</span>)</span> = <span class="mxinfo " id="T4:U90"><span class="fcn" id="F288N16:B332">heuristicSingleLeg</span>(<span class="var type1" id="S59T70U333">xNew</span>,<span class="var type1" id="S57T70U334">xNear</span>,<span class="var type1" id="S49T8U335">HGAINS</span>,<span class="var type1" id="S40T5U336">jointLimits</span>,<span class="var type1" id="S42T6U337">kC</span>)</span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,70" id="srcline70">70</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="125,71" id="srcline71">71</a></span><span class="line">    <span class="mxinfo " id="T58:U96"><span class="mxinfo " id="T58:U97"><span class="var type1" id="S38T67U341">T</span>(<span class="var type1" id="S39T4U342">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T58:U100">[<span class="var type1" id="S59T70U346">xNew</span> <span class="var type1" id="S60T58U347">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="125,72" id="srcline72">72</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,73" id="srcline73">73</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,74" id="srcline74">74</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,75" id="srcline75">75</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="125,76" id="srcline76">76</a></span><span class="line"></span></span>
</pre>

<pre class="code">
<span class="srcline"><span class="lineno"><a href="131,112" id="srcline112">112</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="131,113" id="srcline113">113</a></span><span class="line"><span class="keyword">function</span> [<span class="var type1" id="S69T50U507">T</span>,<span class="var type1" id="S70T4U508">nodeIDCount</span>,<span class="var type1" id="S71T48U509">xNew</span>] = rrtLoop(<span class="mxinfo " id="T50:U4"><span class="mxinfo " id="T50:U5"><span class="var type1" id="S69T50U512">T</span></span></span>,<span class="var type1" id="S72T19U513">jointLimits</span>,<span class="mxinfo " id="T7:U8"><span class="var type2" id="S73T7V7U514">cartesianLimits</span></span>,<span class="var type1" id="S74T6U515">kC</span>,<span class="var type1" id="S75T4U516">panHeight</span>,<span class="mxinfo " id="T5:U12"><span class="var type2" id="S76T5V5U517">U</span></span>,<span class="mxinfo " id="T4:U14"><span class="var type2" id="S77T4V4U518">Dt</span></span>,<span class="mxinfo " id="T4:U16"><span class="var type2" id="S78T4V3U519">dt</span></span>,<span class="mxinfo " id="T8:U18"><span class="var type2" id="S79T8V2U520">NODE_SIZE</span></span>,<span class="mxinfo " id="T8:U20"><span class="var type2" id="S80T8V6U521">U_SIZE</span></span>,<span class="mxinfo " id="T46:U22"><span class="var type2" id="S81T46V1U522">HGAINS</span></span>,<span class="mxinfo " id="T4:U24"><span class="var type2" id="S82T4V8U523">ankleThreshold</span></span>,<span class="mxinfo " id="T4:U26"><span class="mxinfo " id="T4:U27"><span class="var type1" id="S70T4U524">nodeIDCount</span></span></span>,<span class="var type1" id="S83T48U525">nGoal</span>,<span class="mxinfo " id="T8:U30"><span class="var type2" id="S84T8V9U526">goalSeedFreq</span></span>,<span class="var type1" id="S85T49U527">uBDot</span>,<span class="var type1" id="S86T8U528">legNum</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="131,114" id="srcline114">114</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="131,115" id="srcline115">115</a></span><span class="line">    <span class="mxinfo " id="T48:U34"><span class="var type1" id="S87T48U531">xRand</span> = <span class="mxinfo " id="T48:U36"><span class="fcn" id="F283N27:B533">randomState</span>(<span class="var type1" id="S72T19U534">jointLimits</span>,<span class="mxinfo " id="T7:U38"><span class="var type1" id="S73T7U535">cartesianLimits</span></span>,<span class="var type1" id="S75T4U536">panHeight</span>,<span class="var type1" id="S83T48U537">nGoal</span>,<span class="var type1" id="S70T4U538">nodeIDCount</span>,<span class="var type1" id="S84T8U539">goalSeedFreq</span>,<span class="var type1" id="S74T6U540">kC</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="131,116" id="srcline116">116</a></span><span class="line">    [<span class="mxinfo " id="T48:U45"><span class="var type1" id="S89T48U544">xNear</span></span>,<span class="mxinfo " id="T4:U47"><span class="mxinfo " id="T4:U48">~</span></span>,<span class="mxinfo " id="T4:U49"><span class="mxinfo " id="T4:U50">~</span></span>] = <span class="fcn" id="F321N25:B548">nearestNeighbour</span>(<span class="var type1" id="S87T48U549">xRand</span>,<span class="var type1" id="S69T50U550">T</span>,<span class="var type1" id="S81T46U551">HGAINS</span>,<span class="var type1" id="S72T19U552">jointLimits</span>,<span class="var type1" id="S74T6U553">kC</span>,<span class="var type1" id="S70T4U554">nodeIDCount</span>,<span class="var type1" id="S79T8U555">NODE_SIZE</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="131,117" id="srcline117">117</a></span><span class="line">    [<span class="mxinfo " id="T48:U58"><span class="var type1" id="S71T48U559">xNew</span></span>,<span class="mxinfo " id="T60:U60"><span class="var type1" id="S91T60U560">transitionArray</span></span>]  = <span class="fcn" id="F426N32:B562">selectInput</span>(<span class="var type1" id="S89T48U563">xNear</span>,<span class="var type1" id="S87T48U564">xRand</span>,<span class="var type1" id="S76T5U565">U</span>,<span class="var type1" id="S78T4U566">dt</span>,<span class="var type1" id="S77T4U567">Dt</span>,<span class="var type1" id="S79T8U568">NODE_SIZE</span>,<span class="var type1" id="S80T8U569">U_SIZE</span>,<span class="var type1" id="S81T46U570">HGAINS</span>,<span class="var type1" id="S74T6U571">kC</span>,<span class="mxinfo " id="T4:U71"><span class="var type1" id="S82T4U572">ankleThreshold</span></span>,<span class="var type1" id="S72T19U573">jointLimits</span>,<span class="var type1" id="S85T49U574">uBDot</span>,<span class="var type1" id="S86T8U575">legNum</span>);</span></span>
<span class="srcline"><span class="lineno"><a href="131,118" id="srcline118">118</a></span><span class="line">    <span class="mxinfo " id="T4:U76"><span class="var type1" id="S70T4U578">nodeIDCount</span> = <span class="mxinfo " id="T4:U78"><span class="var type1" id="S70T4U580">nodeIDCount</span> + <span class="mxinfo " id="T4:U80">1</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="131,119" id="srcline119">119</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="131,120" id="srcline120">120</a></span><span class="line">    <span class="mxinfo " id="T4:U81"><span class="mxinfo " id="T4:U82"><span class="var type1" id="S71T48U585">xNew</span>(<span class="mxinfo " id="T4:U84">1</span>)</span> = <span class="var type1" id="S70T4U587">nodeIDCount</span></span>;                                  <span class="comment">%Node ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,121" id="srcline121">121</a></span><span class="line">    <span class="mxinfo " id="T4:U86"><span class="mxinfo " id="T4:U87"><span class="var type1" id="S71T48U591">xNew</span>(<span class="mxinfo " id="T4:U89">2</span>)</span> = <span class="mxinfo " id="T4:U90"><span class="var type1" id="S89T48U594">xNear</span>(<span class="mxinfo " id="T4:U92">1</span>)</span></span>;                                     <span class="comment">%Parent ID</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,122" id="srcline122">122</a></span><span class="line">    <span class="mxinfo " id="T4:U93"><span class="mxinfo " id="T4:U94"><span class="var type1" id="S71T48U599">xNew</span>(<span class="mxinfo " id="T4:U96">3</span>)</span> = <span class="mxinfo " id="T4:U97"><span class="mxinfo " id="T4:U98"><span class="var type1" id="S89T48U603">xNear</span>(<span class="mxinfo " id="T4:U100">3</span>)</span> + <span class="mxinfo " id="T4:U101"><span class="fcn" id="F411N23:B606">heuristicSingleLeg</span>(<span class="var type1" id="S71T48U607">xNew</span>,<span class="var type1" id="S89T48U608">xNear</span>,<span class="mxinfo " id="T46:U104"><span class="var type1" id="S81T46U609">HGAINS</span></span>,<span class="var type1" id="S72T19U610">jointLimits</span>,<span class="var type1" id="S74T6U611">kC</span>)</span></span></span>;           <span class="comment">%Cost</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,123" id="srcline123">123</a></span><span class="line"></span></span>
<span class="srcline"><span class="lineno"><a href="131,124" id="srcline124">124</a></span><span class="line">    <span class="mxinfo " id="T57:U108"><span class="mxinfo " id="T57:U109"><span class="var type1" id="S69T50U615">T</span>(<span class="var type1" id="S70T4U616">nodeIDCount</span>,:)</span> = <span class="mxinfo " id="T57:U112">[<span class="var type1" id="S71T48U620">xNew</span> <span class="var type1" id="S91T60U621">transitionArray</span>]</span></span>;                                <span class="comment">%Append the new node to the tree.    </span></span></span>
<span class="srcline"><span class="lineno"><a href="131,125" id="srcline125">125</a></span><span class="line">    <span class="comment">%if mod(nodeIDCount,100) == 0</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,126" id="srcline126">126</a></span><span class="line">        <span class="comment">%fprintf('PROGRESS STATUS: %.0f NODES USED\n',nodeIDCount);</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,127" id="srcline127">127</a></span><span class="line">    <span class="comment">%end</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,128" id="srcline128">128</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="131,129" id="srcline129">129</a></span><span class="line"></span></span>
</pre>
